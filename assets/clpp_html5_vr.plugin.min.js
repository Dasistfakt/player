/*! @castlabs/prestoplay 5.1.38, 23-03-2020 Copyright (c) 2020 castLabs GmbH, All Rights reserved */

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define(['clpp'],factory);else if(typeof exports==="object")exports["clpp_html5_vr"]=factory();else root["clpp_html5_vr"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="/";return __webpack_require__(0)}({0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(31)},31:function(module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["clpp_html5_vr"]=t():e["clpp_html5_vr"]=t()}(this,function(){return webpackJsonpclpp__name_([4],{0:function(e,t,i){var n=i(1),r=i(2),s=i(5),o=i(151),a=r.plugins.clpp_html5_vr;n.definePlugin(a,t),t.registerPlugin=function(){r.cl_K.techOrder.unshift(a),s.cl_oe(a,o)},t.unregisterPlugin=function(){var e=r.cl_K.techOrder.indexOf(a);e>=0&&r.cl_K.techOrder.splice(e,1),s.cl_ce(o)}},51:function(e,t){function i(e,t,i){this.cl_oA=e||0,this.cl_aA=t||0,this.cl_cA=i||0}i.prototype.cl_uA=function(e,t){return this.cl_oA=e.cl_oA-t.cl_oA,this.cl_aA=e.cl_aA-t.cl_aA,this.cl_cA=e.cl_cA-t.cl_cA,this},i.prototype.cl_lA=function(e){return isFinite(e)?(this.cl_oA*=e,this.cl_aA*=e,this.cl_cA*=e):(this.cl_oA=0,this.cl_aA=0,this.cl_cA=0),this},i.prototype.cl__A=function(e){return this.cl_lA(1/e)},i.prototype.cl_hA=function(){return Math.sqrt(this.cl_oA*this.cl_oA+this.cl_aA*this.cl_aA+this.cl_cA*this.cl_cA)},i.prototype.cl_dA=function(){return this.cl__A(this.cl_hA())},i.prototype.cl_fA=function(e){return this.cl_oA*e.cl_oA+this.cl_aA*e.cl_aA+this.cl_cA*e.cl_cA},i.prototype.cl_pA=function(e,t){var i=e.cl_oA,n=e.cl_aA,r=e.cl_cA,s=t.cl_oA,o=t.cl_aA,a=t.cl_cA;return this.cl_oA=n*a-r*o,this.cl_aA=r*s-i*a,this.cl_cA=i*o-n*s,this},e.exports=i},151:function(e,t,i){function n(e){0===g.length&&(g=[].concat(_.cl_K.techOrder),g=g.filter(function(e){return e!==f}).filter(function(e){return r(e).isSupported()}).map(function(e){return r(e)}));var t=Object.assign({},e,{vr:void 0});return g.find(function(e){return e.canPlaySource(t)===d})}function r(e){return h.getTech(a.cl_X(e))}function s(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}var o=i(1),a=i(9),c=i(7),u=i(4),l=i(156),_=i(2),h=o.videojs.getComponent("Tech"),d="maybe",f="clpp_html5_vr",p=new u.Logger("clpp.player.tech.vr"),g=[],E=e.exports=o.videojs.extend(h,{constructor:function(e,t){var i=n(e.source);p.debug("Selected ",i.cl_ae," as root class");var r=o.videojs.extend(i,l);return r.cl_ae=f,new r(e,t,i)}});E.isSupported=function(){var e=c.cl_Oe().browser.name!==_.OS_BROWSERS.ie&&s();return p.debug("Is Tech supported: ",e),e},E.canPlaySource=function(e){var t=!1;return c.cl_Ne(e)&&(t=!!n(e)),p.debug("Can play source:",t),t?d:""}},152:function(e,t,i){function n(){this.cl_gA=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}var r=i(51);n.prototype.cl_EA=function(e,t,i,n,r,s,o,a,c,u,l,_,h,d,f,p){var g=this.cl_gA;return g[0]=e,g[4]=t,g[8]=i,g[12]=n,g[1]=r,g[5]=s,g[9]=o,g[13]=a,g[2]=c,g[6]=u,g[10]=l,g[14]=_,g[3]=h,g[7]=d,g[11]=f,g[15]=p,this},n.prototype.cl_AA=function(){var e,t=this.cl_gA;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},n.prototype.cl_mA=function(e,t){var i=e.cl_gA,n=t.cl_gA,r=this.cl_gA,s=0;do r[4*s+0]=i[4*s]*n[0]+i[4*s+1]*n[4]+i[4*s+2]*n[8]+i[4*s+3]*n[12],r[4*s+1]=i[4*s]*n[1]+i[4*s+1]*n[5]+i[4*s+2]*n[9]+i[4*s+3]*n[13],r[4*s+2]=i[4*s]*n[2]+i[4*s+1]*n[6]+i[4*s+2]*n[10]+i[4*s+3]*n[14],r[4*s+3]=i[4*s]*n[3]+i[4*s+1]*n[7]+i[4*s+2]*n[11]+i[4*s+3]*n[15];while(++s<4);return this},n.prototype.cl_yA=function(e,t,i){var n=new r,s=new r,o=new r,a=this.cl_gA;return o.cl_uA(e,t).cl_dA(),n.cl_pA(i,o).cl_dA(),s.cl_pA(o,n),a[0]=n.cl_oA,a[1]=n.cl_aA,a[2]=n.cl_cA,a[3]=-n.cl_fA(e),a[4]=s.cl_oA,a[5]=s.cl_aA,a[6]=s.cl_cA,a[7]=-s.cl_fA(e),a[8]=o.cl_oA,a[9]=o.cl_aA,a[10]=o.cl_cA,a[11]=-o.cl_fA(e),a[12]=0,a[13]=0,a[14]=0,a[15]=1,this},n.prototype.cl_vA=function(e,t,i,n){var r=this.cl_gA,s=Math.tan(.5*e*Math.PI/180);return r[0]=1/(t*s),r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1/s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=n/(i-n),r[11]=n*i/(i-n),r[12]=0,r[13]=0,r[14]=-1,r[15]=1,this},e.exports=n},153:function(e,t,i){function n(e){this.cl_SA=e,this.cl_TA=e.createProgram(),this.cl_CA=this.cl_bA(!1,s),this.cl_RA=this.cl_bA(!0,o),e.attachShader(this.cl_TA,this.cl_CA),e.attachShader(this.cl_TA,this.cl_RA),e.bindAttribLocation(this.cl_TA,0,"aPosition"),e.bindAttribLocation(this.cl_TA,1,"aTexCoord"),e.linkProgram(this.cl_TA),e.getProgramParameter(this.cl_TA,e.LINK_STATUS)||r.error.raise(null,r.errors.PLAYER.WEBGL_SHADER_INITIALIZATION_FAILED,{},null,{}),e.useProgram(this.cl_TA),this.cl_IA=e.getUniformLocation(this.cl_TA,"Mvpm");var t=e.getUniformLocation(this.cl_TA,"Texture0");e.uniform1i(t,0),e.useProgram(null)}var r=i(1),s=["uniform highp mat4 Mvpm;\n","attribute highp vec4 aPosition;\n","attribute highp vec2 aTexCoord;\n","varying highp vec2 oTexCoord;\n","void main()\n","{\n","   gl_Position = Mvpm * aPosition;\n","   oTexCoord = aTexCoord;\n","}\n"].join(""),o=["precision highp float;\n","uniform sampler2D Texture0;\n","varying highp vec2 oTexCoord;\n","void main()\n","{\n","   gl_FragColor = texture2D(Texture0, oTexCoord);\n","   gl_FragColor.w = 1.0;\n","}\n"].join("");n.prototype.cl_bA=function(e,t){var i=this.cl_SA.createShader(e?this.cl_SA.FRAGMENT_SHADER:this.cl_SA.VERTEX_SHADER);return this.cl_SA.shaderSource(i,t),this.cl_SA.compileShader(i),this.cl_SA.getShaderParameter(i,this.cl_SA.COMPILE_STATUS)||r.error.raise(null,r.errors.PLAYER.WEBGL_SHADER_COMPILATION_FAILED,{},this.cl_SA.getShaderInfoLog(i),{}),i},n.prototype.cl_PA=function(){this.cl_SA.useProgram(this.cl_TA)},n.prototype.cl_NA=function(){this.cl_SA.useProgram(null)},e.exports=n},154:function(e,t){function i(e,t,i,n){this.cl_oA=e||0,this.cl_aA=t||0,this.cl_cA=i||0,this.cl_LA=n||1}i.prototype.cl_DA=function(e){var t=this.cl_oA,i=this.cl_aA,n=this.cl_cA,r=this.cl_LA;return e.cl_EA(1-2*(i*i+n*n),2*(t*i-n*r),2*(t*n+i*r),0,2*(t*i+n*r),1-2*(t*t+n*n),2*(i*n-t*r),0,2*(t*n-i*r),2*(i*n+t*r),1-2*(t*t+i*i),0,0,0,0,1),e},i.cl_OA=function(e,t,n,r){r*=.5;var s=Math.sqrt(e*e+t*t+n*n);e/=s,t/=s,n/=s;var o=Math.sin(r);return new i(e*o,t*o,n*o,Math.cos(r))},e.exports=i},155:function(e,t){function i(e){this.cl_SA=e;var t,i,n=1,r=1,s=3,o=64,a=128,c=o+2*s,u=100,l=[];for(i=0;i<=c;i++){var _;_=i<=s?i/(s+1)/o:i>=c-s?(o-1+(i-(c-s-1))/(s+1))/o:(i-s)/o;var h=(_-.5)*Math.PI,d=Math.cos(h);for(t=0;t<=a;t++){var f=t/a,p=(.5+f)*Math.PI*2;t==a?(l.push(l[5*(i*(a+1)+0)+0]),l.push(l[5*(i*(a+1)+0)+1]),l.push(l[5*(i*(a+1)+0)+2])):(l.push(u*Math.cos(p)*d),l.push(u*Math.sin(p)*d),l.push(u*Math.sin(h))),0==i||i==c?l.push(.5):l.push(1-f*n),l.push((1-_)*r)}}var g=[];for(t=0;t<a;t++)for(i=0;i<c;i++){var E=5*(i*(a+1)+t);g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4]),E=5*(i*(a+1)+t+1),g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4]),E=5*((i+1)*(a+1)+t),g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4]),E=5*((i+1)*(a+1)+t),g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4]),E=5*(i*(a+1)+t+1),g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4]),E=5*((i+1)*(a+1)+t+1),g.push(l[E+0],l[E+1],l[E+2],l[E+3],l[E+4])}this.cl_wA=g.length/5,this.cl_Jl=e.createBuffer();var A=new Float32Array(g);e.bindBuffer(e.ARRAY_BUFFER,this.cl_Jl),e.bufferData(e.ARRAY_BUFFER,A,e.STATIC_DRAW)}i.prototype.cl_kA=function(){this.cl_SA.bindBuffer(this.cl_SA.ARRAY_BUFFER,this.cl_Jl),this.cl_SA.vertexAttribPointer(0,3,this.cl_SA.FLOAT,!1,20,0),this.cl_SA.vertexAttribPointer(1,2,this.cl_SA.FLOAT,!1,20,12),this.cl_SA.enableVertexAttribArray(0),this.cl_SA.enableVertexAttribArray(1),this.cl_SA.drawArrays(this.cl_SA.TRIANGLES,0,this.cl_wA)},e.exports=i},156:function(e,t,i){var n=i(1),r=i(157),s=i(153),o=i(155),a=i(154),c=i(51),u=i(152),l="mousemove",_="mouseup",h={alpha:!1,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!1,preserveDrawingBuffer:!1,devicePixelRatio:1},d={constructor:function(e,t,i){this.cl_MA=i,this.cl_MA.call(this,e,t),this.el().style.display="none",this.cl_xA(),this.cl_UA(),this.cl_FA(),this.cl_BA()},cl_xA:function(){var e=this.cl_VA=document.createElement("canvas");e.style.width="100%",e.className="vjs-tech clpp-move-cursor";var t=this.cl_SA=e.getContext("webgl",h)||e.getContext("experimental-webgl",h);t||n.error.raise(this,n.errors.PLAYER.WEBGL_CONTEXT_CREATION_FAILED,{},null,{}),this.one("loadeddata",this.cl_YA.bind(this)),this.cl_KA=new u,this.cl_KA.cl_yA(new c(0,0,0),new c(0,1,0),new c(0,0,1)),this.cl_GA=new o(t),this.cl_HA=new s(t),this.cl_jA=null,this.cl_WA=new u,this.cl_QA=new u,this.cl_qA=null,this.on(e,"resize",this.cl_FA.bind(this))},cl_YA:function(){var e=this.el();e.parentNode.insertBefore(this.cl_VA,e)},cl_UA:function(){this.cl_zA=0,this.cl_XA=0,this.cl_JA={cl_oA:0,cl_aA:0},this.cl_ZA=new u,this.cl_$A=new u,this.cl_em=new u,this.cl_tm=new u,this.cl_im=this.cl_nm.bind(this),this.cl_rm=this.cl_sm.bind(this),this.on(this.cl_VA,"mousedown",this.cl_om.bind(this))},cl_FA:function(){this.cl_SA.viewport(0,0,this.cl_VA.width,this.cl_VA.height);var e=70,t=this.cl_VA.width/this.cl_VA.height,i=.1,n=2e3;this.cl_QA.cl_vA(e,t,i,n)},cl_BA:function(){this.cl_qA=requestAnimationFrame(this.cl_BA.bind(this));var e=this.el(),t=this.cl_SA;this.cl_jA||e.readyState!==e.HAVE_ENOUGH_DATA||(this.cl_jA=new r(e,t)),t.clearColor(0,0,0,1),t.clearDepth(1),t.clearStencil(0),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.frontFace(t.CCW),t.cullFace(t.BACK),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.depthMask(!0),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.cl_jA&&(this.cl_HA.cl_PA(),this.cl_WA.cl_mA(this.cl_QA,this.cl_KA).cl_AA(),t.uniformMatrix4fv(this.cl_HA.cl_IA,!1,this.cl_WA.cl_gA),this.cl_jA.cl_PA(),t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,e),this.cl_GA.cl_kA(),this.cl_jA.cl_NA(),this.cl_HA.cl_NA())},cl_om:function(e){e.preventDefault(),0===e.button&&(this.cl_JA.cl_oA=e.clientX,this.cl_JA.cl_aA=e.clientY,document.addEventListener(l,this.cl_im,!1),document.addEventListener(_,this.cl_rm,!1))},cl_nm:function(e){e.preventDefault();var t=this.cl_JA.cl_oA-e.clientX,i=this.cl_JA.cl_aA-e.clientY;this.cl_JA.cl_oA=e.clientX,this.cl_JA.cl_aA=e.clientY,this.cl_zA+=t,this.cl_XA+=i;var n=a.cl_OA(0,1,0,this.cl_zA*Math.PI/180),r=a.cl_OA(1,0,0,this.cl_XA*Math.PI/180);n.cl_DA(this.cl_ZA),r.cl_DA(this.cl_$A),this.cl_em.cl_yA(new c(0,0,0),new c(0,1,0),new c(0,0,1)),this.cl_tm.cl_mA(this.cl_ZA,this.cl_em),this.cl_KA.cl_mA(this.cl_$A,this.cl_tm)},cl_sm:function(e){e.preventDefault(),this.cl_am()},dispose:function(){this.cl_am(),this.cl_cm(),this.cl_MA.prototype.dispose.call(this)},cl_cm:function(){this.cl_qA&&cancelAnimationFrame(this.cl_qA),this.el().parentNode.removeChild(this.cl_VA),delete this.cl_SA,this.cl_SA=null,delete this.cl_VA,this.cl_VA=null},cl_am:function(){document.removeEventListener(l,this.cl_im,!1),document.removeEventListener(_,this.cl_rm,!1)},cl__r:function(){return!1}};e.exports=d},157:function(e,t){function i(e,t){this.cl_SA=t,this.cl_um=this.cl_SA.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.cl_um),t.texImage2D(t.TEXTURE_2D,0,t.RGB,t.RGB,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_2D,null)}i.prototype.cl_PA=function(){this.cl_SA.activeTexture(this.cl_SA.TEXTURE0),this.cl_SA.bindTexture(this.cl_SA.TEXTURE_2D,this.cl_um)},i.prototype.cl_NA=function(){this.cl_SA.bindTexture(this.cl_SA.TEXTURE_2D,null)},e.exports=i}})})}})});