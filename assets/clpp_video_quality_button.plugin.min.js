/*! @castlabs/prestoplay 5.1.38, 23-03-2020 Copyright (c) 2020 castLabs GmbH, All Rights reserved */

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define(['clpp'],factory);else if(typeof exports==="object")exports["clpp_video_quality_button"]=factory();else root["clpp_video_quality_button"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="/";return __webpack_require__(0)}({0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(57)},57:function(module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["clpp_video_quality_button"]=t():e["clpp_video_quality_button"]=t()}(this,function(){return webpackJsonpclpp__name_([7],{0:function(e,t,i){var n=i(1),r="clpp_video_quality_button";n.definePlugin(r,t),t.registerPlugin=function(e){var t=i(1),n=i(5).cl_Z,s=i(31),o=i(180),a=t.videojs.getComponent("Component"),c=i(2).cl_K;c.plugins[r]={},a.registerComponent(s.VIDEO_QUALITY_BUTTON,o),n(e,r,s.VIDEO_QUALITY_BUTTON)},t.unregisterPlugin=function(e){var t=i(5).cl_te,n=i(31);t(e,r,n.VIDEO_QUALITY_BUTTON)}},31:function(e,t){var i={AUTO_ABR_ID:-1,CSS_CLASS:"vjs-settings-button",DESCRIPTION:"Video",LABEL_AUTO:"auto",VIDEO_QUALITY_PLUGIN_NAME:"clpp_video_quality_button",VIDEO_QUALITY_BUTTON:"VideoQualityButton",VIDEO_QUALITY_MENU_ITEM:"VideoQualityMenuItem"};e.exports=i},180:function(e,t,i){var n=i(1),r=i(31),s=i(2),o=n.videojs.getComponent("MenuButton"),a=i(181),c=n.videojs.extend(o,{constructor:function(e,t){this.controlText_=r.DESCRIPTION,o.call(this,e,t),this.cl_Gm()},buildCSSClass:function(){return r.CSS_CLASS+" "+o.prototype.buildCSSClass.call(this)},cl_Uu:function(){this.el_&&this.player_.el_&&this.player_.one("ready",this.cl_Vu.bind(this))},cl_jm:function(e,t){function i(e){return parseInt(e/1e3,10)+"k"}if("undefined"==typeof t&&(t=0),"undefined"!=typeof e.bandwidth&&"undefined"!=typeof e.width&&"undefined"!=typeof e.height?e.label=e.height+"p ("+i(e.bandwidth)+")":e.label="unknown - "+String(t),this.player_.options_&&this.player_.options_.interceptors&&"function"==typeof this.player_.options_.interceptors.onAddVideoTrack){var r=n.videojs.mergeOptions({},e);this.player_.options_.interceptors.onAddVideoTrack(r),e.label=r.label}return e.label},createItems:function(){var e,t,i,n;if(i=[],"function"!=typeof this.player_.tech_.getTracksByType)return this.hide(),[];if(this.show(),n=this.player_.tech_.getTracksByType("video"),i.push(new a(this.player_,{label:r.LABEL_AUTO,src:{indexId:r.AUTO_ABR_ID},selected:this.player_.tech_.cl_kt})),1===n.length&&"undefined"==typeof n[0].bandwidth&&"undefined"==typeof n[0].width&&"undefined"==typeof n[0].height)return i;for(e=0,t=n.length;e<t;e++)i.push(new a(this.player_,{disabled:n[e].disabled,label:this.cl_jm(n[e],e),src:n[e],selected:n[e].active}));return i},cl_zs:function(){var e,t,i;for(i=this.items||[],e=0,t=i.length;e<t;e++)i[e].update();this.update()},cl_Gm:function(){var e=this.player_.tech_;return e?(e.on(s.ALL_EVENTS.CLPP_VIDEO_TRACK_CHANGED,this.cl_zs.bind(this)),e.on(s.ALL_EVENTS.CLPP_VIDEO_TRACK_CHANGED_AUTO,this.cl_zs.bind(this)),e.on(s.ALL_EVENTS.CLPP_AUDIO_TRACK_CHANGED,this.cl_Hm.bind(this)),e.on("loadedmetadata",this.cl_Hm.bind(this)),e.on(s.ALL_EVENTS.VIDEO_TRACKS_UPDATED,this.cl_Hm.bind(this)),void e.on("dispose",this.cl_Uu.bind(this))):void this.player_.one("ready",this.cl_Vu.bind(this))},cl_Vu:function(){this.cl_Gm(),this.update()},cl_Hm:function(){this.update()},handleClick:function(){o.prototype.handleClick.call(this)}});e.exports=c},181:function(e,t,i){var n=i(1),r=i(31),s=n.videojs.getComponent("MenuItem"),o=n.videojs.extend(s,{constructor:function(e,t){t.selectable=!0,s.call(this,e,t),this.src=t.src,this.update()}});o.prototype.decideSelectable=function(){var e=this.options_.src.indexId;e===r.AUTO_ABR_ID?this.selectable=!this.player_.tech_.cl_kt:this.selectable=!0},o.prototype.handleClick=function(e){var t=this.options_.src.indexId,i=this.options_.src.disabled;if(i)return void console.warn("Track is readonly and cannot be changed manually when using silverlight - not yet supported");if(t===r.AUTO_ABR_ID)this.player_.tech_.selectAutoABR();else{var n,o,a=this.player_.tech_.getTracksByType("video");for(n=0,o=a.length;n<o;n++)if(t===a[n].indexId){this.player_.tech_.selectVideo(n);break}}s.prototype.handleClick.call(this,e)},o.prototype.update=function(){this.selectable=!0;var e=this.options_.src.disabled,t=this.player_.tech_&&this.player_.tech_.cl_Lt&&this.player_.tech_.cl_Lt.indexId,i=this.options_.src.indexId;i===r.AUTO_ABR_ID?this.selected(this.player_.tech_.cl_kt):this.player_.tech_.cl_kt?this.selected(!1):this.selected(t===i),e?this.selectable=!1:this.decideSelectable()},s.registerComponent(r.VIDEO_QUALITY_MENU_ITEM,o),e.exports=o}})})}})});