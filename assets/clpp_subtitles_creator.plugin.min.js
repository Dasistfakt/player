/*! @castlabs/prestoplay 5.1.38, 23-03-2020 Copyright (c) 2020 castLabs GmbH, All Rights reserved */

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define(['clpp'],factory);else if(typeof exports==="object")exports["clpp_subtitles_creator"]=factory();else root["clpp_subtitles_creator"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="/";return __webpack_require__(0)}({0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(56)},56:function(module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["clpp_subtitles_creator"]=t():e["clpp_subtitles_creator"]=t()}(this,function(){return webpackJsonpclpp__name_([5],{0:function(e,t,i){var n=i(1),r=i(2),s=r.plugins.clpp_subtitles_creator;n.definePlugin(s,t);var o="SubtitlesCreator";t.registerPlugin=function(e){var t=i(5).cl_Z,r=i(176),a=n.videojs.getComponent("Component"),c=i(2).cl_K;c.plugins[s]={},a.registerComponent(o,r),t(e,s,o)},t.unregisterPlugin=function(e){var t=i(5).cl_te;t(e,s,o)}},176:function(e,t,i){var n=i(1),r=n.videojs.getComponent("MenuButton"),s=i(177),o=n.videojs.extend(r,{constructor:function(e,t){this.controlText_="Subtitles Creator",r.call(this,e,t),this.cl_Vu()},cl_Uu:function(){if(this.el_&&this.player_.el_)this.player_.one("ready",this.cl_Vu.bind(this));else{var e=this.player_.tech_;"function"==typeof e.setSubtitleStyles&&e.setSubtitleStyles(),this.cl_um&&this.cl_um.dispose()}},cl_Vu:function(){var e=this.player_.tech_;return e?("function"==typeof e.cl_jt&&e.cl_jt(),e.on("dispose",this.cl_Uu.bind(this)),e.on("subtitlesChanged",this.cl__m.bind(this)),void("function"==typeof e.setSubtitleStyles&&e.setSubtitleStyles())):void this.player_.one("ready",this.cl_Vu.bind(this))},buildCSSClass:function(){return"vjs-subtitles-creator-button "+r.prototype.buildCSSClass.call(this)},handleClick:function(){r.prototype.handleClick.call(this),this.cl_um||(this.cl_um=new s(this.player_,{}),this.cl_hm=!1),this.cl_hm?(this.cl_hm=!1,this.cl_um.hide()):(this.cl_hm=!0,this.cl_um.cl_dm(this.cl_um.el_),this.cl_um.show())},cl__m:function(){this.cl_hm&&this.cl_um.cl_dm(this.cl_um.el_)}});e.exports=o},177:function(e,t,i){var n=i(1),r=n.videojs.getComponent("Component"),s=i(179),o=i(39),a=i(23),c="clpp.statics.subtitles.",l=i(3),u=n.videojs.extend(r,{constructor:function(e,t){this.cl_gA={},r.call(this,e,t),this.cl_Qc=n.videojs.mergeOptions({},t),this.hide(),this.player_.el_.appendChild(this.el_)},cl_fm:function(e,t){if("string"==typeof t){var i=document.createElement("div");i.innerHTML=t,t=i.childNodes[0]}return e.appendChild(t),t},cl_pm:function(e,t,i){var n,r,s,o,a,c,l,u;for(r=0,a=t.length;r<a;r++)s=t[r],c=s.name,u=s.title,l=s.values||[],o=document.createElement("div"),o.className="item",this.cl_fm(o,'<span class="title">'+u+"</span>"),n=this.cl_gm(e,c,l),this.cl_gA[e]=this.cl_gA[e]||{},this.cl_gA[e][c]={item:s,comboBox:n},this.cl_fm(o,n),this.cl_fm(i,o)},cl_gm:function(e,t,i){var n=document.createElement("select");n.className="comboBox",n.setAttribute("name",e+"-"+t);var r,s,o,a;for(r=0,s=i.length;r<s;r++)o=document.createElement("option"),a=i[r],o.value=a.value,o.innerText=a.title,a.isDefault&&(o.selected="selected"),n.appendChild(o);return n.addEventListener("change",this.onChange.bind(this)),n},cl_Em:function(e,t){var i,n,r,s,o=this.player_.tech_,a=o.cl_Q.subtitles;for(i=0,n=e.length;i<n;i++)r=e[i].name,s=e[i].title,this.cl_fm(t,'<div class="header">'+s+"</div>"),this.cl_pm(r,e[i].entries,t);this.cl_Am=this.cl_fm(t,'<div class="view-frame"></div>'),this.cl_$l=this.cl_fm(this.cl_Am,'<div class="view">example subtitle</div>'),a&&a.showConfig&&(this.cl_fm(t,'<div class="header">Configuration</div>'),this.cl_GE=this.cl_fm(t,'<pre class="configuration"></pre>'));var c=this.cl_fm(t,'<input type="button" class="vjs-subtitles-creator-overlay-reset-btn" value="Reset To Defaults"/>');c.addEventListener("click",this.cl_mm.bind(this))},cl_ym:function(e){var t,i,n,r,s,o={};for(i in this.cl_gA)if(this.cl_gA.hasOwnProperty(i)){s=this.cl_gA[i],o[i]={};for(n in s)s.hasOwnProperty(n)&&(t=s[n].comboBox,r=t.options[t.selectedIndex].value,e&&(r=c+a.api[n]+"."+r),o[i][n]=r)}return this.cl_GE&&(o["showConfig"]=!0),o={subtitles:o}},cl_mm:function(){var e=this.player_.tech_;o.removeFromLocalStorage(),e.setSubtitleStyles({}),"function"==typeof e.cl_Ni&&e.cl_Ni()},onChange:function(){var e=this.cl_vm();o.saveToLocalStorage(e.subtitles),this.player_.tech_.setSubtitleStyles(),"function"==typeof this.player_.tech_.cl_Ni&&this.player_.tech_.cl_Ni()},cl_vm:function(){var e=this.cl_ym(!0),t=JSON.stringify(e,void 0,2);t=t.replace(/^\{\n {2}/,""),t=t.replace(/\n\}$/,""),t=t.replace(/ {4}/g,"  "),t=t.replace(/ {2}\}$/,"}"),t=t.replace(/^\"/,""),t=t.replace(/ {2}\"/g,"  "),t=t.replace(/\"\:/g,":"),t=t.replace(/\"/g,""),this.cl_GE&&(this.cl_GE.innerHTML=t),e=this.cl_ym();var i=l.getSafeValue(this.player_.tech_.cl_Q,"subtitles.fontsFamily");return o.updateElementWithStyle(this.cl_$l,e.subtitles,i),o.updateElementWithWindowBackground(this.cl_Am,e.subtitles),{fontsFamily:i,subtitles:e.subtitles}},buildCSSClass:function(){return"vjs-subtitles-creator-overlay "+r.prototype.buildCSSClass.call(this)},cl_dm:function(e){e.innerHTML='<div class="wrapper"></div>';var t=this.player_.tech_.cl_ui,i=s.create(t,o.getDefaultCSSStyle());return this.cl_Em(i,e.querySelector(".wrapper")),this.cl_vm()},createEl:function(){var e=r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:0});return this.cl_dm(e),e}});r.registerComponent("SubtitlesCreatorOverlay",u),e.exports=u},178:function(e,t,i){function n(e,t){this.name=e,this.title=t,this.value=e,this.isDefault=!1}function r(e,t,i,r){r||(r=i),e[t]=e[t]||[],e[t].push(new n(i,r))}function s(e){o(e,_.color),l(e,_.opacity),u(e,_.size),c(e,_.font),a(e,_.edge)}function o(e,t){r(e,t,h.keys.colors.white,"White"),r(e,t,h.keys.colors.black,"Black"),r(e,t,h.keys.colors.red,"Red"),r(e,t,h.keys.colors.green,"Green"),r(e,t,h.keys.colors.blue,"Blue"),r(e,t,h.keys.colors.yellow,"Yellow"),r(e,t,h.keys.colors.magenta,"Magenta"),r(e,t,h.keys.colors.cyan,"Cyan")}function a(e,t){r(e,t,h.keys.edges.noEdge,"No Edge"),r(e,t,h.keys.edges.raisedEdges,"Raised Edges"),r(e,t,h.keys.edges.depressedEdges,"DepressedEdges"),r(e,t,h.keys.edges.uniformEdges,"Uniform Edges"),r(e,t,h.keys.edges.dropShadowedEdges,"Drop Shadowed Edges")}function c(e,t){r(e,t,h.keys.fonts.defaultFont,"Default"),r(e,t,h.keys.fonts.mSerifs,"Monospaced with serifs"),r(e,t,h.keys.fonts.pSerifs,"Proportional spaced with serifs"),r(e,t,h.keys.fonts.mWSerifs,"Monospaced without serifs"),r(e,t,h.keys.fonts.pWSerifs,"Proportionally spaced without serifs"),r(e,t,h.keys.fonts.casual,"Casual"),r(e,t,h.keys.fonts.cursive,"Cursive"),r(e,t,h.keys.fonts.sCapitals,"Small Capitals")}function l(e,t){r(e,t,h.keys.opacities.opacity100,"100%"),r(e,t,h.keys.opacities.opacity90,"90%"),r(e,t,h.keys.opacities.opacity80,"80%"),r(e,t,h.keys.opacities.opacity70,"70%"),r(e,t,h.keys.opacities.opacity60,"60%"),r(e,t,h.keys.opacities.opacity50,"50%"),r(e,t,h.keys.opacities.opacity40,"40%"),r(e,t,h.keys.opacities.opacity30,"30%"),r(e,t,h.keys.opacities.opacity20,"20%"),r(e,t,h.keys.opacities.opacity10,"10%"),r(e,t,h.keys.opacities.opacity00,"0%")}function u(e,t){r(e,t,h.keys.sizes.size50,"50%"),r(e,t,h.keys.sizes.size75,"75%"),r(e,t,h.keys.sizes.size100,"100%"),r(e,t,h.keys.sizes.size125,"125%"),r(e,t,h.keys.sizes.size150,"150%"),r(e,t,h.keys.sizes.size175,"175%"),r(e,t,h.keys.sizes.size200,"200%")}var _=i(23),h=i(22);t.prepare=s,t.SelectOption=n},179:function(e,t,i){function n(e,t){this.name=e,this.title=t,this.entries=[],this.cl_ct=function(e,t){var i,n,r=t[e.name];for(i=0,n=e.values.length;i<n;i++)if(e.values[i].name===r){e.values[i].isDefault=!0;break}this.entries.push(e)}}function r(e,t,i){this.name=e,this.title=t,this.values=h.cloneItem(i)}function s(e,t){var i=[],n={};l.prepare(n);var r={};r[_.color]=t[_.CSS.color],r[_.opacity]=t[_.CSS.opacity],r[_.size]=t[_.CSS.fontSize],r[_.font]=t[_.CSS.fontFamily],r[_.edge]=u.keys.edges.noEdge,r[_.edgeColor]=u.keys.colors.empty;var s={};s[_.color]=u.keys.colors.empty,s[_.opacity]=u.keys.opacities.opacity100;var d={};return d[_.color]=u.keys.colors.empty,d[_.opacity]=u.keys.opacities.opacity100,e&&(r=h.merge(r,e[_.character]),s=h.merge(s,e[_.background]),d=h.merge(d,e[_.windowBackground])),i.push(a(n,r)),i.push(o(n,s)),i.push(c(n,d)),i}function o(e,t){var i=new n(_.background,"Background",e[_.background]),s=[new l.SelectOption(u.keys.colors.empty,"Empty")].concat(e[_.color]);return i.cl_ct(new r(_.color,"Color",s),t),i.cl_ct(new r(_.opacity,"Opacity",e[_.opacity]),t),i}function a(e,t){var i=new n(_.character,"Character");return i.cl_ct(new r(_.color,"Color",e[_.color]),t),i.cl_ct(new r(_.opacity,"Opacity",e[_.opacity]),t),i.cl_ct(new r(_.size,"Size",e[_.size]),t),i.cl_ct(new r(_.font,"Font",e[_.font]),t),i.cl_ct(new r(_.edge,"Edge",e[_.edge]),t),i.cl_ct(new r(_.edgeColor,"Edge Color",e[_.color]),t),i}function c(e,t){var i=new n(_.windowBackground,"Window Background",e[_.windowBackground]),s=[new l.SelectOption(u.keys.colors.empty,"Empty")].concat(e[_.color]);return i.cl_ct(new r(_.color,"Color",s),t),i.cl_ct(new r(_.opacity,"Opacity",e[_.opacity]),t),i}var l=i(178),u=i(22),_=i(23),h=i(3);t.create=s}})})}})});