/*! @castlabs/prestoplay 5.1.38, 23-03-2020 Copyright (c) 2020 castLabs GmbH, All Rights reserved */

(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define(['clpp'],factory);else if(typeof exports==="object")exports["clpp_html5_mse_smooth"]=factory();else root["clpp_html5_mse_smooth"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="/";return __webpack_require__(0)}({0:function(module,exports,__webpack_require__){module.exports=__webpack_require__(30)},30:function(module,exports){!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["clpp_html5_mse_smooth"]=t():e["clpp_html5_mse_smooth"]=t()}(this,function(){return webpackJsonpclpp__name_([1],{0:function(e,t,i){var r=i(1),n=i(2),s=i(5),o=i(130),a=n.plugins.clpp_html5_mse_smooth;r.definePlugin(a,t),t.registerPlugin=function(){var e=n.cl_K.techOrder.indexOf(n.techs.HTML5_MSE_DASH);e>=0&&n.cl_K.techOrder.splice(e+1,0,n.plugins.clpp_html5_mse_smooth),s.cl_oe(a,o)},t.unregisterPlugin=function(){var e=n.cl_K.techOrder.indexOf(n.plugins.clpp_html5_mse_smooth);e>=0&&n.cl_K.techOrder.splice(e,1),s.cl_ce(o)}},20:function(e,t,i){function r(e,t){return k(e,t,e.byteLength)}function n(e){var t=c(),i=R(e,t);return i}function s(e){return Y.fromByteArray(e)}function o(e){return String.fromCharCode.apply(String,e)}function a(e,t){var i=new Uint8Array(e);return B(F(i,t),e)}function c(){var e=a(20,"ftyp");return e[8]=109,e[9]=112,e[10]=52,e[11]=49,e[16]=109,e[17]=112,e[18]=52,e[19]=49,e}function u(e,t){var i=g(e,t),n=T(e,0,t);if(0==t)return T(e,t+i,e.byteLength-i);n=B(n,n.byteLength);var s=T(e,t+i,e.byteLength-n.byteLength-i);return s.byteLength>0?r(n,s):n}function d(e,t){return u(e,b(e,t))}function h(e){var t,i,r,n,s,o,a,c,u,h;return t=C(e,"moov"),h=I(t,"encv")===!0?"encv":"enca",u=C(t,"schi"),I(u,"uuid")?(u=d(u,"uuid"),c=x(C(t,"sinf"),u),a=x(C(t,h),c),o=x(C(t,"stsd"),a),s=x(C(t,"stbl"),o),n=x(C(t,"minf"),s),r=x(C(t,"mdia"),n),i=x(C(t,"trak"),r),t=x(t,i)):e}function l(e){var t,i=[],r=[];return i[0]=e.getUint8(9),i[1]=e.getUint8(10),i[2]=e.getUint8(11),r[0]=i[0].toString(16),1===r[0].length&&(r[0]="0"+r[0]),r[1]=i[1].toString(16),1===r[1].length&&(r[1]="0"+r[1]),r[2]=i[2].toString(16),1===r[2].length&&(r[2]="0"+r[2]),t=r[0]+r[1]+r[2]}function _(e){return parseInt(e,16)}function f(e){for(var t=16e3,i="",r=0;r<e.length;r+=t){var n=e.subarray(r,r+t);i+=String.fromCharCode.apply(null,n)}return i}function p(e){return g(e,0)}function g(e,t){var i=new DataView(e.buffer);return i.getUint32(t)}function A(e){return m(e,4)}function m(e,t){var i=new DataView(e.buffer);return String.fromCharCode(i.getInt8(t+0),i.getInt8(t+1),i.getInt8(t+2),i.getInt8(t+3))}function y(){var e=new Uint8Array(8);return e[0]=0,e[1]=0,e[2]=2,e[3]=182,e[4]=109,e[5]=111,e[6]=111,e[7]=118,e}function v(e){return _(l(e))}function E(e){var t=S(e,"kid");return t&&(t=J(z(K(t)))),t}function S(e,t){if(t=t.toLowerCase(),!e||!t)return"";var i="<"+t+">",r="</"+t+">",n=i.length,s=e.ProtectionHeaderText.trim(),a=o(O(K(s))),c=a.substring(a.toLowerCase().indexOf(i)+n,a.toLowerCase().indexOf(r));return c}function T(e,t,i){for(var r=new Uint8Array(i),n=0;n<i;n++)r[n]=e[t+n];return r}function C(e,t){var i=b(e,t),r=g(e,i);if(i>-1)return T(e,i,r);throw new Exception("Could not find subbox of type "+t)}function b(e,t){for(var i,r=0;r<e.byteLength-4;r++)if(i=m(e,r),i===t)return r-4;return-1}function I(e,t){return b(e,t)!=-1}function P(e){return s(q(e))}function L(e){for(var t=[],i=0;i<e.length;i+=2){var r=parseInt(e.substr(i,2),16);r>128&&(r-=256),t.push(r)}return t}function k(e,t,i){for(var r=e.byteLength,n=t.byteLength,s=r+n,o=new Uint8Array(s),a=(new DataView(o.buffer),0),c=0;c<i;c++)o[a]=e[c],a++;for(var c=0;c<n;c++)o[a]=t[c],a++;for(var c=i;c<r;c++)o[a]=e[c],a++;return o=B(o,s)}function R(e,t){var i=e.byteLength,r=t.byteLength,n=i+r,s=new Uint8Array(n),o=0,a=0,c=0;for(a;a<r;a++)s[o++]=t[a];for(o;o<n;o++)s[o]=e[c++];return s}function w(e,t){for(var i;I(e,"pssh");)e=d(e,"pssh");return i=b(e,I(e,"mvhd")?"mvhd":"mfhd"),e=k(e,t,i+g(e,i))}function N(e,t,i,s,o,c,u,l){var _=e,f=A(_);if("moov"===f){var g;if("audio"===i.cl_bl){var m,y,E,S,P,L,R,N,O,B,V,Y,H,g,W,Q;if(i._isProtected===!0){m="AAAFPG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAACYloAAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAM8cHNzaAAAAACaBPB5mEBChquS5lvgiF+VAAADHBwDAAABAAEAEgM8AFcAUgBNAEgARQBBAEQARQBSACAAeABtAGwAbgBzAD0AIgBoAHQAdABwADoALwAvAHMAYwBoAGUAbQBhAHMALgBtAGkAYwByAG8AcwBvAGYAdAAuAGMAbwBtAC8ARABSAE0ALwAyADAAMAA3AC8AMAAzAC8AUABsAGEAeQBSAGUAYQBkAHkASABlAGEAZABlAHIAIgAgAHYAZQByAHMAaQBvAG4APQAiADQALgAwAC4AMAAuADAAIgA+ADwARABBAFQAQQA+ADwAUABSAE8AVABFAEMAVABJAE4ARgBPAD4APABLAEUAWQBMAEUATgA+ADEANgA8AC8ASwBFAFkATABFAE4APgA8AEEATABHAEkARAA+AEEARQBTAEMAVABSADwALwBBAEwARwBJAEQAPgA8AC8AUABSAE8AVABFAEMAVABJAE4ARgBPAD4APABLAEkARAA+AGUAOAA1ACsAcgBJAG8AZwBpAGsAeQBjADYAYQB5AFEAMgBTAGsAWAA1AGcAPQA9ADwALwBLAEkARAA+ADwAQwBIAEUAQwBLAFMAVQBNAD4ASAA0AFAAYQA5ACsATgBhAG4AawBNAD0APAAvAEMASABFAEMASwBTAFUATQA+ADwATABBAF8AVQBSAEwAPgBoAHQAdABwAHMAOgAvAC8AbgBvAHQALQByAGUAYQBsAC4AYgBsAGkAbgBrAGIAbwB4AC4AbABvAGMAYQBsAC8AbABpAGMAZQBuAHMAZQA8AC8ATABBAF8AVQBSAEwAPgA8AEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AEkASQBTAF8ARABSAE0AXwBWAEUAUgBTAEkATwBOAD4ANwAuADEALgAxADUANgA1AC4AMQA1ADwALwBJAEkAUwBfAEQAUgBNAF8AVgBFAFIAUwBJAE8ATgA+ADwALwBDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APAAvAEQAQQBUAEEAPgA8AC8AVwBSAE0ASABFAEEARABFAFIAPgAAAAAobXZleAAAACB0cmV4AAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAABZHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAQBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAmJaAAAAAAFXEAAAAAAAgaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAAAAALhtaW5mAAAAsHN0YmwAAACoc3RzZAAAAAAAAAABAAAAmGVuY2EAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAJGVzZHMAAAAAAxkAAQAEEUAVAAAAAAAAAAAAAAAFAhGQAAAAUHNpbmYAAAAMZnJtYW1wNGEAAAAUc2NobQAAAABjZW5jAAAAAAAAAChzY2hpAAAAIHRlbmMAAAABAAABCKx+znsgikyKnOmskNkpF+Y=",g=K(m),W=new DataView(g.buffer),R=K("AAAA93N0YmwAAACrc3RzZAAAAAAAAAABAAAAm2VuY2EAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAJ2VzZHMAAAAAAxkAAAAEEUAVAAGNAAH0mAAB6fgFAhGQBgECAAAAUHNpbmYAAAAMZnJtYW1wNGEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAKUuVmddV3iu/D9yj+l6rcAAAAQc3R0cwAAAAAAAAAAAAAAEHN0c2MAAAAAAAAAAAAAABRzdHN6AAAAAAAAAAAAAAAAAAAAEHN0Y28AAAAAAAAAAA=="),O=C(R,"enca"),B=new DataView(O.buffer),B.setUint16(24,i.channels),B.setUint16(26,i.bitsPerSample),B.setUint16(30,i.packetSize),B.setUint32(32,i.samplingRate<<16),V=K("AAAAJ2VzZHMAAAAAAxkAAAAEEUAVAAGNAAH0mAAB6fgFAhGQBgEC"),Q=q(u),V[34]=Q[0],V[35]=Q[1],O=x(O,V);var X,J,Z,$,ee,te;X=C(O,"sinf"),J=C(X,"schm"),Z=new U(J.buffer),Z.setUint32(16,65536),$=C(X,"schi"),ee=C($,"tenc"),te=new DataView(ee.buffer);for(var ie=l.replace(/-/g,""),re=q(ie),ne=16,se=0;se<16;se++)ee[ne+se]=re[se];$=x($,ee),X=x(X,$),X=x(X,J),O=x(O,X),y=C(g,"trak"),E=C(y,"mdia"),S=C(E,"mdhd"),L=C(E,"minf"),N=C(R,"stsd"),P=new DataView(S.buffer),P.setUint32(20,s),N=x(N,O),R=x(R,N),L=x(L,R),E=x(E,L),E=x(E,S),y=x(y,E),g=x(g,y)}else{m="AAABsG1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAACYloAAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAobXZleAAAACB0cmV4AAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAABFHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAALBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAmJaAAAAAAFXEAAAAAAAgaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAAAAAGhtaW5mAAAAYHN0YmwAAABYc3RzZAAAAAAAAAABAAAASG1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAJGVzZHMAAAAAAxkAAQAEEUAVAAAAAAAAAAAAAAAFAhGQ",g=K(m),R=K("AAAAtnN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAD6AAAA9+sFgICABRGQVuUABoCAgAECAAAAEHN0dHMAAAAAAAAAAAAAABBzdHNjAAAAAAAAAAAAAAAUc3RzegAAAAAAAAAAAAAAAAAAABBzdGNvAAAAAAAAAAA="),Y=C(R,"mp4a"),H=new DataView(Y.buffer),H.setUint16(24,i.channels),H.setUint16(26,i.bitsPerSample),H.setUint16(30,i.packetSize),H.setUint32(32,i.samplingRate<<16),V=K("AAAAJ2VzZHMAAAAAAxkAAAAEEUAVAAGNAAH0mAAB6fgFAhGQBgEC"),Q=q(u),V[34]=Q[0],V[35]=Q[1],Y=x(Y,V),y=C(g,"trak"),E=C(y,"mdia"),S=C(E,"mdhd"),L=C(E,"minf");var oe,ae;ae="AAAAEHNtaGQAAAABAAAAAA==",oe=K(ae),L=k(L,oe,b(L,"stbl"));var ce,ue;ue="AAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAAB",ce=K(ue),L=k(L,ce,b(L,"stbl")),N=C(R,"stsd"),P=new DataView(S.buffer),P.setUint32(20,s),N=x(N,Y),R=x(R,N),L=x(L,R),E=x(E,L),E=x(E,S),y=x(y,E),g=x(g,y)}}else{var y,E,S,P,L,R,N,de,X,he,le,_e,fe=u.split("00000001"),pe=(fe.length-1)/2,ge=fe[1],Ae=fe[pe+1],me="AAACDW1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAACYloAAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAobXZleAAAACB0cmV4AAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAABcXRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAQ1tZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAmJaAAAAAAFXEAAAAAAAgaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAAAAAMVtaW5mAAAAvXN0YmwAAAClc3RzZAAAAAAAAAABAAAAlWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABcADQAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAA/YXZjQwFNQB7/4QAnZ2QADawspQXG7AVIMDAyAAAH0gABdwDAQAKrgAAqub+McHaEiWWAAQAFaOkJNSUAAAAQc3RzcwAAAAAAAAAA",ye=K(me),g=null,ve=null,Ee=null,Se=null,Te=null,Ce="AAAAlWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAABcADQAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8=",be=null,Ie=null,Pe=0;Pe=13,be=a(Pe,"avcC"),Ie=new DataView(be.buffer),Ie.setUint8(8,1),Ie.setUint8(9,77),Ie.setUint8(10,64),Ie.setUint8(11,30),Ie.setUint8(12,255),le=new Uint8Array(1),_e=new DataView(le.buffer),_e.setUint8(0,224+pe),be=r(be,le);for(var se=0,Le=pe;se<Le;se++)ge=fe[1+se],le=new Uint8Array(2),_e=new DataView(le.buffer),_e.setUint16(0,ge.length/2),be=r(be,le),be=r(be,q(ge));le=new Uint8Array(1),_e=new DataView(le.buffer),_e.setUint8(0,pe),be=r(be,le);for(var se=0,Le=pe;se<Le;se++)Ae=fe[pe+1+se],le=new Uint8Array(2),_e=new DataView(le.buffer),_e.setUint16(0,Ae.length/2),be=r(be,le),be=r(be,q(Ae));if(Se=K(Ce),Te=new DataView(Se.buffer),ge=fe[1],ge=D(q(ge.substr(2))),!isNaN(ge.frameWidth)&&!isNaN(ge.frameHeight)&&ge.frameWidth>0&&ge.frameHeight>0?(Te.setUint16(32,ge.frameWidth),Te.setUint16(34,ge.frameHeight)):(Te.setUint16(32,i.width),Te.setUint16(34,i.height)),Se=r(Se,be),i._isProtected){de="AAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAKUuVmddV3iu/D9yj+l6rc=",X=K(de),he=new DataView(X.buffer);for(var ie=l.replace(/-/g,""),re=q(ie),ne=X.byteLength-16,se=0;se<16;se++)X[ne+se]=re[se];Se=r(Se,X),Se=F(Se,"encv")}g=ye,y=C(g,"trak"),E=C(y,"mdia"),S=C(E,"mdhd"),L=C(E,"minf"),R=C(E,"stbl"),N=C(R,"stsd"),P=new DataView(S.buffer),P.setUint32(20,s);var ke,Re,we;ke=C(y,"tkhd"),Re=new U(ke.buffer),we=Re.getUint8(8,1),0===we?(Re.setUint32(82,i.width),Re.setUint32(86,i.height)):(Re.setUint32(94,i.width),Re.setUint32(98,i.height));var Ne=b(N,"avc1");N=d(N,"avc1"),N=k(N,Se,Ne),R=x(R,N);var De,Oe,xe,Be,Fe,Me,Ue,Ve;Fe="AAAAEHN0dHMAAAAAAAAAAA==",De=K(Fe),Me="AAAAEHN0c2MAAAAAAAAAAA==",Oe=K(Me),Ue="AAAAFHN0c3oAAAAAAAAAAAAAAAA=",xe=K(Ue),Ve="AAAAEHN0Y28AAAAAAAAAAA==",Be=K(Ve),R=d(R,"stss"),R=r(R,De),R=r(R,Oe),R=r(R,xe),R=r(R,Be);var Ye,je;je="AAAAFHZtaGQAAAABAAAAAAAAAAA=",Ye=K(je),L=k(L,Ye,b(L,"stbl")),L=x(L,R),E=x(E,L),E=x(E,S),y=x(y,ke),y=x(y,E),g=x(g,y)}var ve=C(g,"mvhd"),Ee=new DataView(ve.buffer),we=Ee.getUint8(8,1);0==we?Ee.setUint32(20,s):Ee.setUint32(28,s),g=x(g,ve),e=g;z(g)}else if("moof"===f){var Ge,He,We,Ke,ze,qe,Qe,Xe,Je,Ze,$e,et,tt,it,rt,nt,st,ot,at,ct,ut,dt,ht,lt,_t=C(_,"moof"),ft=C(_,"mdat"),pt=_t,gt=0;if(We=C(_t,"mfhd"),Ke=new DataView(We.buffer),ze=Ke.getUint32(12),Xe=C(_t,"traf"),ht=p(Xe),I(Xe,"uuid")){var At,mt,yt,vt=0;for(At=new Uint8Array(Xe.buffer.slice(0));I(At,"uuid");)At=d(At,"uuid"),vt++;for(var se=0;se<vt;se++){if(Je=C(Xe,"uuid"),Ze=new U(Je.buffer),mt=T(Je,8,16),yt=z(mt),"a2394f525a9b4f14a2446c427c648df4"===yt)Xe=r(Xe,Je);else{if("6d1d9b0542d544e680e2141daff757b2"===yt){var we,Et,St;we=Ze.getUint8(24),Et=28,St=1===we?parseInt(Ze.getUint64(Et).toString()):parseInt(Ze.getUint32(Et).toString())}if("d4807ef2ca3946958e5426cb9e46a79f"===yt){var we,Tt,Ct,bt,It,Pt,Et,Lt;we=Ze.getUint8(24),Tt=[],Tt[0]=Ze.getUint8(25),Tt[1]=Ze.getUint8(26),Tt[2]=Ze.getUint8(27),Ct=Ze.getUint8(28),Et=29;for(var Le=0;Le<Ct;Le++)if(bt="",1===we){for(var kt=0;kt<8;kt++)Lt=Je[Et+kt].toString(16),1==Lt.length&&(Lt="0"+Lt),bt+=Lt;It=Ze.getUint64(Et).toString(),Pt=parseInt(Ze.getUint64(Et+8).toString()),Et+=16}else{for(var kt=0;kt<4;kt++)Lt=Je[Et+kt].toString(16),1==Lt.length&&(Lt="0"+Lt),bt+=Lt;It=Ze.getUint32(Et).toString(),Pt=parseInt(Ze.getUint32(Et+4).toString()),Et+=8}}}Xe=d(Xe,"uuid")}}if(tt=a(20,"tfdt"),it=new U(tt.buffer),it.setUint8(8,1),it.setUint8(9,0),it.setUint8(10,0),it.setUint8(11,0),null==t&&(t=0),it.setUint64(12,t),I(Xe,"tfdt")||(Xe=k(Xe,tt,b(Xe,"trun"))),i._isProtected&&!I(Xe,"saiz")&&I(Xe,"uuid")){Je=C(Xe,"uuid"),Ze=new DataView(Je.buffer),et=p(Je)-32,$e=Je.subarray(32);var Rt,wt,Et,Nt,Dt,Ot,xt=Ze.getUint32(28),Tt=[3];Tt[0]=Ze.getUint8(25),Tt[1]=Ze.getUint8(26),Tt[2]=Ze.getUint8(27),Dt=p(Je),Rt=8,Et=32,Nt=17,Ot=[xt];var Bt=17+xt;st=a(Bt,"saiz"),ot=new DataView(st.buffer),ot.setUint8(13,0),ot.setUint32(13,xt);for(var se=0;se<xt;se++)Et+=8,0==Tt[2]?Ot[se]=8:(wt=Ze.getUint16(Et),Et+=2,Et+=6*wt,Ot[se]=6*wt+10),ot.setUint8(Nt,Ot[se]),Nt+=1;Xe=r(Xe,st)}if(i._isProtected&&!I(Xe,"saio")){var Ft="AAAAFHNhaW8AAAAAAAAAAQAAAsA=",rt=K(Ft);nt=new DataView(rt.buffer),Xe=r(Xe,rt)}et=0,lt=0,I(Xe,"uuid")&&(Je=C(Xe,"uuid"),et=p(Je)-32,$e=Je.subarray(32),Xe=d(Xe,"uuid")),at=C(Xe,"trun"),ct=new DataView(at.buffer);var Mt={dataOffsetPresent:1,firstSampleFlagsPresent:4,sampleDurationPresent:256,sampleSizePresent:512,sampleFlagsPresent:1024,sampleCompositionTimeOffsetsPresent:2048},Tt=v(ct),Ut=0;if(Tt!=(Tt|Mt.dataOffsetPresent)){Ut=4,at=k(at,new Uint8Array(Ut),16),ct=new DataView(at.buffer)}Tt|=Mt.dataOffsetPresent,M(Tt,ct),pt=x(pt,Xe),gt=p(pt)+Ut,ut=ct.getUint32(16),dt=p(pt)+8,dt=gt+8+et,ct.setUint32(16,dt),Xe=x(Xe,at),I(Xe,"saio")&&(rt=C(Xe,"saio"),nt=new DataView(rt.buffer),et>0?nt.setUint32(16,gt+8):nt.setUint32(16,b(pt,"senc")+16),Xe=x(Xe,rt)),qe=C(Xe,"tfhd"),Qe=new DataView(qe.buffer),Qe.setUint32(12,1),Xe=x(Xe,qe),pt=x(pt,Xe),Ge=ft,i._isProtected===!0&&void 0!=$e&&(Ge=k(Ge,$e,8));var Vt=pt.byteLength+Ge.byteLength,Yt=0;He=new Uint8Array(Vt);for(var se=0;se<pt.byteLength;se++)He[Yt]=pt[se],Yt++;for(var se=0;se<Ge.byteLength;se++)He[Yt]=Ge[se],Yt++;e=He}return mt=A(e),"ftyp"===mt&&i._isProtected&&(e=C(e,"moov"),mt=A(e)),"moov"===mt&&i._isProtected&&c&&(e=w(e,o)),"moov"===mt&&G.cl_ke()&&i._isProtected&&c&&(e=h(e)),"ftyp"!==mt&&(j.videojs.browser.IS_FIREFOX||G.cl_Te())&&c&&(e=n(e)),"text"===i.cl_bl&&(e=C(e,"mdat"),e=e.subarray(8)),e}function D(e){var t={profile_idc:0,constraint_set0_flag:0,constraint_set1_flag:0,constraint_set2_flag:0,constraint_set3_flag:0,level_idc:0,seq_parameter_set_id:0,chroma_format_idc:0,separate_colour_plane_flag:0,bit_depth_luma_minus8:0,bit_depth_chroma_minus8:0,qpprime_y_zero_transform_bypass_flag:0,seq_scaling_matrix_present_flag:0,log2_max_frame_num_minus4:0,pic_order_cnt_type:0,log2_max_pic_order_cnt_lsb_minus4:0,num_ref_frames:0,gaps_in_frame_num_value_allowed_flag:0,pic_width_in_mbs_minus1:0,pic_height_in_map_units_minus1:0,frameCroppingFlag:0,frameCropLeftOffset:0,frameCropRightOffset:0,frameCropTopOffset:0,frameCropBottomOffset:0,frameWidth:0,frameHeight:0},i=new V;if(i.init(e),t.profile_idc=i.readBits(8),i.skipBits(8),t.level_idc=i.readBits(8),t.seq_parameter_set_id=i.readUnsignedExpGolombCodedInt(),t.chroma_format_idc=1,100!=t.profile_idc&&110!=t.profile_idc&&122!=t.profile_idc&&244!=t.profile_idc&&44!=t.profile_idc&&83!=t.profile_idc&&86!=t.profile_idc||(t.chroma_format_idc=i.readUnsignedExpGolombCodedInt(),3===t.chroma_format_idc&&(t.separate_colour_plane_flag=i.readBit()),t.bit_depth_luma_minus8=i.readUnsignedExpGolombCodedInt(),t.bit_depth_chroma_minus8=i.readUnsignedExpGolombCodedInt(),t.qpprime_y_zero_transform_bypass_flag=i.readBit(),t.seq_scaling_matrix_present_flag=i.readBit(),1===t.seq_scaling_matrix_present_flag),t.log2_max_frame_num_minus4=i.readUnsignedExpGolombCodedInt(),t.pic_order_cnt_type=i.readUnsignedExpGolombCodedInt(),0===t.pic_order_cnt_type)t.log2_max_pic_order_cnt_lsb_minus4=i.readUnsignedExpGolombCodedInt();else if(1===t.pic_order_cnt_type){i.skipBits(1),i.readSignedExpGolombCodedInt(),i.readSignedExpGolombCodedInt();for(var r=i.readUnsignedExpGolombCodedInt(),n=0;n<r;n++)i.readUnsignedExpGolombCodedInt()}t.num_ref_frames=i.readUnsignedExpGolombCodedInt(),t.gaps_in_frame_num_value_allowed_flag=i.readBit(),t.pic_width_in_mbs_minus1=i.readUnsignedExpGolombCodedInt(),t.pic_height_in_map_units_minus1=i.readUnsignedExpGolombCodedInt();var s=i.readBit(),o=(2-(s?1:0))*(t.pic_height_in_map_units_minus1+1);s||i.readBit(),i.readBit();var a=16*(t.pic_width_in_mbs_minus1+1),c=16*o,u=i.readBit();if(u){var d,h,l=i.readUnsignedExpGolombCodedInt(),_=i.readUnsignedExpGolombCodedInt(),f=i.readUnsignedExpGolombCodedInt(),p=i.readUnsignedExpGolombCodedInt();if(0==t.chroma_format_idc)d=1,h=2-(s?1:0);else{var g=3==t.chroma_format_idc?1:2,A=1==t.chroma_format_idc?2:1;d=g,h=A*(2-(s?1:0))}a-=(l+_)*d,c-=(f+p)*h}t.frameWidth=a,t.frameHeight=c;var m=i.readBit(),y=1;if(m){var v=i.readBit();if(v){var E=i.readBits(8);if(255==E){var S=i.readBits(16),T=i.readBits(16);y=S/T}}}return t}function O(e){for(var t=new Array(e.length/2),i=0;i<e.length/2;i++)t[i]=e[2*i];return t}function x(e,t){var i=A(t),r=b(e,i);return k(d(e,i),t,r)}function B(e,t){var i=new DataView(e.buffer);return i.setUint32(0,t),e}function F(e,t){var i=new DataView(e.buffer);return i.setUint8(4,t.substr(0,1).charCodeAt(0)),i.setUint8(5,t.substr(1,1).charCodeAt(0)),i.setUint8(6,t.substr(2,1).charCodeAt(0)),i.setUint8(7,t.substr(3,1).charCodeAt(0)),e}function M(e,t){for(var i=e.toString(16);i.length<6;)i="0"+i;t.setUint8(9,parseInt(i.substring(0,2),16)),t.setUint8(10,parseInt(i.substring(2,4),16)),t.setUint8(11,parseInt(i.substring(4,6),16))}var U=i(116),V=i(117),Y=i(115),j=i(1),G=i(7),H=i(38),W=i(8),K=W.base64ToArr,z=W.arrToHexStr,q=W.hexStrToArr,Q=W.fillZeros,X=W.strToArr,J=H.cl_Po;e.exports={appendBox:r,appendFtypBox:n,arrayToString:o,base64DecToArr:K,byteArrayToHexString:z,deleteSubBoxByType:d,fillZeros:Q,filterUUIDBox:h,fromUintToString:f,getBoxSizeByOffset:g,getBoxType:A,getSubBoxOffset:b,getEmptyMoov:y,getKeyId:E,getSubArray:T,getSubBox:C,getTag:S,hasSubBox:I,hexStringToByteArray:q,hexStringToBase64:P,hexToArray:L,injectBox:k,injectPSSHBox:w,toMsGuid:J,parseSmoothStreamingFragment:N,removeZeros:O,replaceBox:x,stringToArray:X}},21:function(e,t,i){var r=i(2),n={};n.bitsPerSample=function(e){return e=n.int(e),0===e&&(e=16),e},n.clockOffset=function(){return 0},n.codecPrivateDataAudio=function(e,t){var i,r,s;if(i=n.lower(t.FourCC),r=n.int(t.SamplingRate),s=n.int(t.Channels),void 0===e||""===e){var o,a={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12},c=2,u=a[r];if("aach"===i){c=5,e=new Uint8Array(4);var d=a[2*r];e[0]=c<<3|u>>1,e[1]=u<<7|s<<3|d>>1,e[2]=d<<7|8,e[3]=0,o=new Uint16Array(2),o[0]=(e[0]<<8)+e[1],o[1]=(e[2]<<8)+e[3],e=o[0].toString(16)+o[1].toString(16)}else e=new Uint8Array(2),e[0]=c<<3|u>>1,e[1]=u<<7|s<<3,o=new Uint16Array(1),o[0]=(e[0]<<8)+e[1],e=o[0].toString(16)}return e},n.codecPrivateDataText=function(e){return e},n.codecPrivateDataVideo=function(e){return e},n.codecsAudio=function(e,t){return 0==(""+t.CodecPrivateData).indexOf("1310")?"mp4a.40.5":"mp4a.40.2"},n.codecsVideo=function(e,t){if("avc1"===e||"h264"===e){var i,r,n=t.CodecPrivateData;return i=/00000001[0-9]7/.exec(n),r=i&&i[0]?n.substr(n.indexOf(i[0])+10,6):"42c00c","avc1."+r}throw"unsupported video type: "+e},n.codecsText=function(){return""},n.duration=function(e,t,i){return e=n.int(e),e>0?e/i._timeScale:1/0},n.encrypted=function(){return!1},n.int=function(e){return"undefined"!=typeof e?e===1/0?e:parseInt(e,10):0},n.isSupportedAudio=function(e){return"mp4a"===e||"aacl"===e||"mp2"===e||"mp2a"===e||"aach"===e},n.isSupportedVideo=function(e){return"avc1"===e||"h264"===e},n.isProtected=function(e,t,i){return!!i._keyId},n.kind=function(e){e=n.lower(e);var t="";return"capt"===e?t="caption":"subt"===e&&(t="subtitle"),t},n.lower=function(e){return"undefined"!=typeof e?e.toLowerCase():e},n.language=function(e){return"undefined"!=typeof e?n.lower(e):"und"},n.maxFirstSegmentStartTime=function(e,t,i){return Date.now()/1e3-i.segmentAvailabilityDuration_},n.mimeTypeAudio=function(){return"audio/mp4"},n.mimeTypeText=function(e){if(e=n.lower(e),"vtt"===e)return"text/vtt";if("ttml"===e)return"application/ttml+xml";throw"unsupported text type: "+e},n.mimeTypeVideo=function(){return r.cl_s},n.isLive=function(e){return e=n.lower(e||""),"true"!=e&&"1"!=e},n.segmentAvailabilityDuration=function(e,t,i){return e=n.int(e),e>0?e/i._timeScale:1/0},n.stringNotEmpty=function(e){return"undefined"==typeof e?"":String(e)},n.timeScale=function(e){var t=1e7;return n.int(e)||t},n.name=function(e){return"undefined"==typeof e?"":String(e)},e.exports=n},30:function(e,t,i){function r(e,t,i){var r,n,s;for(var o in t)t.hasOwnProperty(o)&&(r=o,n=t[r],"string"==typeof n?s=i[n]:(n=t[r].name,s=i[n],"undefined"!=typeof s&&(s=s.toLowerCase()),s=t[r].converter(s,i,e)),"function"==typeof e[r]?e[r](s):e[r]=s)}function n(e){var t=a.shaka.util.Error;if(!e)return"";var i=new Uint8Array(e),r=!1;239==i[0]&&187==i[1]&&191==i[2]?(i=i.subarray(3),r=!0):255==i[0]&&254==i[1]&&i[2]>0?(i=new Uint16Array(e),i=i.subarray(1)):255==i[0]&&254==i[1]&&0==i[2]&&0==i[3]?(i=new Uint32Array(e),i=i.subarray(2)):0==i[0]&&0==i[1]&&255==i[2]&&254==i[3]&&(i=new Uint32Array(e),i=i.subarray(2));var n=u.fromUintToString(i);if(!r)return n;var s=escape(n);try{return decodeURIComponent(s)}catch(e){throw new t(t.Category.TEXT,t.Code.BAD_ENCODING)}}function s(e){var t=n(e),i=new DOMParser,r=null,s=null;try{r=i.parseFromString(t,"text/xml")}catch(e){}if(r&&"smoothstreamingmedia"===r.documentElement.tagName.toLowerCase()&&(s=r.documentElement),!s)throw new Error(Error.Category.MANIFEST,Error.Code.DASH_INVALID_XML);var o=c(s);return o}var o,a=i(1),c=i(129),u=i(20);o={assignMapValues:r,fromBufferArrayToString:n,parseManifest:s},e.exports=o},36:function(e,t,i){function r(e,t,i){var r,s,o,a,c,u,d=0;for(o=0,a=t.length;o<a;o++)if("undefined"==typeof t[o].d&&o<a-1&&(s=h.int(t[o+1].t)-h.int(t[o].t),t[o].d=String(s)),r=new l(e,d,t[o],r,i),i.cl_Il(r,d),d+=1,"undefined"!=typeof t[o].r&&(u=Number(t[o].r),u>0))for(c=0;c<u;c++)r=new l(e,d,{d:t[o].d},r,i),i.cl_Il(r,d),d+=1;var _=e.cl_Pl.presentationTimeline;"text"!==i.cl_bl||_.isLive()||n(e,t,i,r)}function n(e,t,i,r){var n=r.cl_Ll,s=e.cl_Pl.presentationTimeline.getDuration()*r._timeScale,o=t.length-1;if(n<s){s=s-r.cl_kl+1;var a={t:r.cl_kl,d:s};i.cl_Rl[o]=new l(e,o,a,i.cl_Rl[o-1],i)}}function s(e,t){var i;return i=0===t.indexOf("http")?t:e.substr(0,e.lastIndexOf("/")+1)+t}function o(e,t,i,r,n){r=r||{},this.id=t,this.cl_wl=s(e.cl_Pl.cl_wl,n.Url),i.Language||(i.Language=n.Language),i.Name||(i.Name=n.Name);var o={bandwidth:{name:"Bitrate",converter:h.int},language:{name:"Language",converter:h.language},name:{name:"Name",converter:h.name},_keyId:{name:"_KeyId",converter:h.stringNotEmpty},_isProtected:{name:"",converter:h.isProtected},_timeScale:{name:"TimeScale",converter:h.int}};this.cl_Nl=Object.assign({},o,r),u.assignMapValues(this,this.cl_Nl,i),this.cl_wl=this.cl_wl.replace("{bitrate}",this.bandwidth),this.presentationTimeOffset=0}function a(e,t){function i(e){var i,r;for(i=0,r=t.length;i<r;i++)if(t[i].initData[0].cl_R===e)return t[i].initData[0].initData}var r=this.cl_wl.replace("{start time}",0);if("text"!==this.cl_bl){t=t||[];var n;n=i(_.cl_ke()?"com.microsoft.playready":"com.widevine.alpha");var s=d.parseSmoothStreamingFragment(d.getEmptyMoov(),0,this,this._timeScale||e.cl_Pl.presentationTimeline._timeScale,n,!0,this.CodecPrivateData,this._keyId);this.initSegmentReference=new f.shaka.media.InitSegmentReference(function(){return[r]},0,null,new Promise(function(e){e(s)}))}}function c(e,t,i,n,s,c){this.type=this.cl_bl,this.cl_Rl={},this.cl_Dl={},this.cl_Ol,this.cl_xl=e,this.cl_Bl=c,this.roles=[],this.cl_Pi=function(){o.call(this,this.cl_xl,t,i,s,n),a.call(this,this.cl_xl,c),r(e,n.c,this),e.updating||(this.cl_Fl=this.cl_Fl.bind(this),this.cl_xl.networkingEngine_.registerResponseFilter(this.cl_Fl))},this.cl_Ml=function(){this.cl_xl.networkingEngine_.unregisterResponseFilter(this.cl_Fl),this.cl_Rl={},this.cl_Dl={}},this.cl_Il=function(e,t){this.cl_Rl[t]=e,this.cl_Dl[e.cl_wl]=t,this.cl_Ol=t},this.cl_Fl=function(e,t){if(e===this.cl_xl.cl_Ul.net.NetworkingEngine.RequestType.SEGMENT&&!t.aborted){var i=this.cl_Dl[t.uri],r=this.cl_Rl[i];r&&r.cl_Fl.apply(r,arguments)}},this.cl_Vl=function(e){this.cl_Yl(e)||g.warn("The current stream is updated with a stream that seems to have different base properties!",this,e);var t=this.cl_Rl[this.cl_Ol],i=t.cl_jl,r=this.cl_Ol+1,n=Number.MAX_VALUE;for(var s in e.cl_Rl)if(e.cl_Rl.hasOwnProperty(s)){var o=e.cl_Rl[s].cl_Gl;if(o>=i){var a={t:e.cl_Rl[s].cl_Gl,d:e.cl_Rl[s].cl_Hl},c=new l(this.cl_xl,r,a,this.cl_Rl[this.cl_Ol],this);this.cl_Il(c,r),r++}n=Math.min(n,e.cl_Rl[s].startTime)}if(this.initSegmentReference=e.initSegmentReference,n!=Number.MAX_VALUE)for(var u in this.cl_Rl)this.cl_Rl.hasOwnProperty(u)&&this.cl_Rl[u].endTime<n&&(delete this.cl_Dl[this.cl_Rl[u].cl_wl],delete this.cl_Rl[u]);e.cl_Ml()},this.cl_Yl=function(e){return!0},this.createSegmentIndex=function(){return Promise.resolve.bind(Promise)},this.findSegmentPosition=function(e){var t,i,r;if(this.cl_xl.cl_Wl)return null;for(var n in this.cl_Rl)if(this.cl_Rl.hasOwnProperty(n)&&(r=this.cl_Rl[n].cl_kl/this.cl_Rl[n]._timeScale,t=this.cl_Rl[n].cl_Ll/this.cl_Rl[n]._timeScale,e>=r&&e<t)){i=n;break}if("undefined"==typeof i)for(var s in this.cl_Rl)if(this.cl_Rl.hasOwnProperty(s)&&(r=this.cl_Rl[s].cl_kl/this.cl_Rl[s]._timeScale,t=this.cl_Rl[s].cl_Ll/this.cl_Rl[s]._timeScale,e===t)){i=s;break}return"undefined"==typeof i&&0===e&&this.cl_Rl[0]&&(i=0),"undefined"==typeof i&&(this.cl_xl.error=!0,this.cl_xl.cl_Vl()),"undefined"==typeof i?null:Number(i)},this.getSegmentReference=function(e){var t=this.cl_xl.cl_Pl.presentationTimeline;if(this.cl_xl.cl_Wl)return null;if(t.isLive()){this.cl_Rl[e]?e>this.cl_Ol+t._lookAheadFragmentCount&&this.cl_xl.cl_Vl():this.cl_xl.cl_Vl();var i=e;if(this.cl_Rl[i]){var r=this.cl_Rl[i].cl_kl/this.cl_Rl[i]._timeScale,n=t.getSegmentAvailabilityEnd(),s=!1;t.getSegmentAvailabilityDuration()<1/0&&"text"!==this.type&&r<n-t.getSegmentAvailabilityDuration()&&(s=!0),s&&(this.cl_xl.error=!0,this.cl_xl.cl_Vl(),e=-1)}return this.cl_Rl[e]}return this.cl_Rl[e]},this.cl_Pi()}var u=i(30),d=i(20),h=i(21),l=i(124),_=i(7),f=i(1),p=i(4),g=new p.Logger("clpp.player.tech.ss.streams");e.exports=c},115:function(e,t,i){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o?62:t===a?63:t<c?-1:t<c+10?t-c+26+26:t<d+26?t-d:t<u+26?t-u+26:void 0}function i(e){function i(e){u[h++]=e}var r,n,o,a,c,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=e.length;c="="===e.charAt(d-2)?2:"="===e.charAt(d-1)?1:0,u=new s(3*e.length/4-c),o=c>0?e.length-4:e.length;var h=0;for(r=0,n=0;r<o;r+=4,n+=3)a=t(e.charAt(r))<<18|t(e.charAt(r+1))<<12|t(e.charAt(r+2))<<6|t(e.charAt(r+3)),i((16711680&a)>>16),i((65280&a)>>8),i(255&a);return 2===c?(a=t(e.charAt(r))<<2|t(e.charAt(r+1))>>4,i(255&a)):1===c&&(a=t(e.charAt(r))<<10|t(e.charAt(r+1))<<4|t(e.charAt(r+2))>>2,i(a>>8&255),i(255&a)),u}function n(e){function t(e){return r.charAt(e)}function i(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var n,s,o,a=e.length%3,c="";for(n=0,o=e.length-a;n<o;n+=3)s=(e[n]<<16)+(e[n+1]<<8)+e[n+2],c+=i(s);switch(a){case 1:s=e[e.length-1],c+=t(s>>2),c+=t(s<<4&63),c+="==";break;case 2:s=(e[e.length-2]<<8)+e[e.length-1],c+=t(s>>10),c+=t(s>>4&63),c+=t(s<<2&63),c+="="}return c}var s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),a="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),d="A".charCodeAt(0);e.toByteArray=i,e.fromByteArray=n}(t)},116:function(e,t,i){!function(t){var i=this;e.exports=t(i)}(function(e){"use strict";function t(e,t){return!t&&e instanceof Array?e:Array.prototype.slice.call(e)}function i(e,t){return void 0!==e?e:t}function r(e,t,n,s){if(e instanceof r){var o=e.slice(t,t+n);return o.cl_Kl=i(s,o.cl_Kl),o}if(!(this instanceof r))return new r(e,t,n,s);if(this.buffer=e=r.wrapBuffer(e),this.cl_zl=c.ArrayBuffer&&e instanceof ArrayBuffer,this.cl_ql=c.PixelData&&e instanceof CanvasPixelArray,this.cl_Ql=c.DataView&&this.cl_zl,this.cl_Xl=!1,!(this.cl_zl||this.cl_ql||e instanceof Array))throw new TypeError("jDataView buffer has an incompatible type");this.cl_Kl=!!s;var a="byteLength"in e?e.byteLength:e.length;this.byteOffset=t=i(t,0),this.byteLength=n=i(n,a-t),this.cl_Jl=this.cl_Zl=0,this.cl_Ql?this.cl_$l=new DataView(e,t,n):this.cl_e_(t,n,a),this.cl_t_=this.cl_Ql?this.cl_i_:this.cl_zl?this.cl_r_:this.cl_n_}function n(e){for(var t=c.ArrayBuffer?Uint8Array:Array,i=new t(e.length),r=0,n=e.length;n>r;r++)i[r]=255&e.charCodeAt(r);return i}function s(e){return e>=0&&31>e?1<<e:s[e]||(s[e]=Math.pow(2,e))}function o(e,t){this.lo=e,this.hi=t}function a(){o.apply(this,arguments)}var c={NodeBuffer:!1,DataView:"DataView"in e,ArrayBuffer:"ArrayBuffer"in e,PixelData:"CanvasPixelArray"in e&&"ImageData"in e&&"document"in e},u=e.TextEncoder,d=e.TextDecoder;if(c.PixelData){var h=function(e,t){var i=h.context2d.createImageData((e+3)/4,1).data;if(i.byteLength=e,void 0!==t)for(var r=0;e>r;r++)i[r]=t[r];return i};h.context2d=document.createElement("canvas").getContext("2d")}var l={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};r.wrapBuffer=function(e){switch(typeof e){case"number":if(c.ArrayBuffer)e=new Uint8Array(e).buffer;else if(c.PixelData)e=h(e);else{e=new Array(e);for(var i=0;i<e.length;i++)e[i]=0}return e;case"string":e=n(e);default:return"length"in e&&!(c.ArrayBuffer&&e instanceof ArrayBuffer||c.PixelData&&e instanceof CanvasPixelArray)&&(c.ArrayBuffer?e instanceof ArrayBuffer||(e=new Uint8Array(e).buffer,e instanceof ArrayBuffer||(e=new Uint8Array(t(e,!0)).buffer)):e=c.PixelData?h(e.length,e):t(e)),e}},r.createBuffer=function(){return r.wrapBuffer(arguments)},r.Uint64=o,o.prototype={valueOf:function(){return this.lo+s(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},o.fromNumber=function(e){var t=Math.floor(e/s(32)),i=e-t*s(32);return new o(i,t)},r.Int64=a,a.prototype="create"in Object?Object.create(o.prototype):new o,a.prototype.valueOf=function(){return this.hi<s(31)?o.prototype.valueOf.apply(this,arguments):-(s(32)-this.lo+s(32)*(s(32)-1-this.hi))},a.fromNumber=function(e){var t,i;if(e>=0){var r=o.fromNumber(e);t=r.lo,i=r.hi}else i=Math.floor(e/s(32)),t=e-i*s(32),i+=s(32);return new a(t,i)};var _=r.prototype={compatibility:c,cl_e_:function(e,t,r){if("number"!=typeof e)throw new TypeError("Offset is not a number.");if("number"!=typeof t)throw new TypeError("Size is not a number.");if(0>t)throw new RangeError("Length is negative.");if(0>e||e+t>i(r,this.byteLength))throw new RangeError("Offsets are out of bounds.")},cl_s_:function(e,t,r,n,s){return this.cl_t_(e,t,i(r,this.cl_Jl),i(n,this.cl_Kl),s)},cl_i_:function(e,t,i,r,n){return this.cl_Jl=i+l[e],t?this.cl_$l["get"+e](i,r):this.cl_$l["set"+e](i,n,r);
},cl_r_:function(t,r,n,s,o){var a,c=l[t],u=e[t+"Array"];if(s=i(s,this.cl_Kl),1===c||(this.byteOffset+n)%c===0&&s)return a=new u(this.buffer,this.byteOffset+n,1),this.cl_Jl=n+c,r?a[0]:a[0]=o;var d=new Uint8Array(r?this.getBytes(c,n,s,!0):c);return a=new u(d.buffer,0,1),r?a[0]:(a[0]=o,void this.cl_o_(n,d,s))},cl_n_:function(e,t,i,r,n){return t?this["_get"+e](i,r):this["_set"+e](i,n,r)},cl_a_:function(e,r,n){n=i(n,this.cl_Kl),r=i(r,this.cl_Jl),e=i(e,this.byteLength-r),this.cl_e_(r,e),r+=this.byteOffset,this.cl_Jl=r-this.byteOffset+e;var s=this.cl_zl?new Uint8Array(this.buffer,r,e):(this.buffer.slice||Array.prototype.slice).call(this.buffer,r,r+e);return n||1>=e?s:t(s).reverse()},getBytes:function(e,r,n,s){var o=this.cl_a_(e,r,i(n,!0));return s?t(o):o},cl_o_:function(e,r,n){var s=r.length;if(0!==s){if(n=i(n,this.cl_Kl),e=i(e,this.cl_Jl),this.cl_e_(e,s),!n&&s>1&&(r=t(r,!0).reverse()),e+=this.byteOffset,this.cl_zl)new Uint8Array(this.buffer,e,s).set(r);else for(var o=0;s>o;o++)this.buffer[e+o]=r[o];this.cl_Jl=e-this.byteOffset+s}},setBytes:function(e,t,r){this.cl_o_(e,t,i(r,!0))},getString:function(e,t,i){var r=this.cl_a_(e,t,!0);if(i="utf8"===i?"utf-8":i||"binary",d&&"binary"!==i)return new d(i).decode(this.cl_zl?r:new Uint8Array(r));var n="";e=r.length;for(var s=0;e>s;s++)n+=String.fromCharCode(r[s]);return"utf-8"===i&&(n=decodeURIComponent(escape(n))),n},setString:function(e,t,i){i="utf8"===i?"utf-8":i||"binary";var r;u&&"binary"!==i?r=new u(i).encode(t):("utf-8"===i&&(t=unescape(encodeURIComponent(t))),r=n(t)),this.cl_o_(e,r,!0)},getChar:function(e){return this.getString(1,e)},setChar:function(e,t){this.setString(e,t)},tell:function(){return this.cl_Jl},seek:function(e){return this.cl_e_(e,0),this.cl_Jl=e},skip:function(e){return this.seek(this.cl_Jl+e)},slice:function(e,t,n){function s(e,t){return 0>e?e+t:e}return e=s(e,this.byteLength),t=s(i(t,this.byteLength),this.byteLength),n?new r(this.getBytes(t-e,e,!0,!0),void 0,void 0,this.cl_Kl):new r(this.buffer,this.byteOffset+e,t-e,this.cl_Kl)},alignBy:function(e){return this.cl_Zl=0,1!==i(e,1)?this.skip(e-(this.cl_Jl%e||e)):this.cl_Jl},cl_c_:function(e,t){var i=this.cl_a_(8,e,t),r=1-2*(i[7]>>7),n=((i[7]<<1&255)<<3|i[6]>>4)-1023,o=(15&i[6])*s(48)+i[5]*s(40)+i[4]*s(32)+i[3]*s(24)+i[2]*s(16)+i[1]*s(8)+i[0];return 1024===n?0!==o?NaN:1/0*r:-1023===n?r*o*s(-1074):r*(1+o*s(-52))*s(n)},cl_u_:function(e,t){var i=this.cl_a_(4,e,t),r=1-2*(i[3]>>7),n=(i[3]<<1&255|i[2]>>7)-127,o=(127&i[2])<<16|i[1]<<8|i[0];return 128===n?0!==o?NaN:1/0*r:-127===n?r*o*s(-149):r*(1+o*s(-23))*s(n)},cl_d_:function(e,t,r){r=i(r,this.cl_Kl),t=i(t,this.cl_Jl);for(var n=r?[0,4]:[4,0],s=0;2>s;s++)n[s]=this.getUint32(t+n[s],r);return this.cl_Jl=t+8,new e(n[0],n[1])},getInt64:function(e,t){return this.cl_d_(a,e,t)},getUint64:function(e,t){return this.cl_d_(o,e,t)},cl_h_:function(e,t){var i=this.cl_a_(4,e,t);return i[3]<<24|i[2]<<16|i[1]<<8|i[0]},cl_l_:function(e,t){return this.cl_h_(e,t)>>>0},cl___:function(e,t){return this.cl_f_(e,t)<<16>>16},cl_f_:function(e,t){var i=this.cl_a_(2,e,t);return i[1]<<8|i[0]},cl_p_:function(e){return this.cl_g_(e)<<24>>24},cl_g_:function(e){return this.cl_a_(1,e)[0]},cl_A_:function(e,t){var r=(i(t,this.cl_Jl)<<3)+this.cl_Zl,n=r+e,s=r>>>3,o=n+7>>>3,a=this.cl_a_(o-s,s,!0),c=0;(this.cl_Zl=7&n)&&(this.cl_Zl-=8);for(var u=0,d=a.length;d>u;u++)c=c<<8|a[u];return{start:s,bytes:a,wideValue:c}},getSigned:function(e,t){var i=32-e;return this.getUnsigned(e,t)<<i>>i},getUnsigned:function(e,t){var i=this.cl_A_(e,t).wideValue>>>-this.cl_Zl;return 32>e?i&~(-1<<e):i},cl_m_:function(e,t,i,r,n){var o,a,c=0>t?1:0,u=~(-1<<r-1),d=1-u;0>t&&(t=-t),0===t?(o=0,a=0):isNaN(t)?(o=2*u+1,a=1):1/0===t?(o=2*u+1,a=0):(o=Math.floor(Math.log(t)/Math.LN2),o>=d&&u>=o?(a=Math.floor((t*s(-o)-1)*s(i)),o+=u):(a=Math.floor(t/s(d-i)),o=0));for(var h=[];i>=8;)h.push(a%256),a=Math.floor(a/256),i-=8;for(o=o<<i|a,r+=i;r>=8;)h.push(255&o),o>>>=8,r-=8;h.push(c<<r|o),this.cl_o_(e,h,n)},cl_y_:function(e,t,i){this.cl_m_(e,t,23,8,i)},cl_v_:function(e,t,i){this.cl_m_(e,t,52,11,i)},cl_E_:function(e,t,r,n){r instanceof e||(r=e.fromNumber(r)),n=i(n,this.cl_Kl),t=i(t,this.cl_Jl);var s=n?{lo:0,hi:4}:{lo:4,hi:0};for(var o in s)this.setUint32(t+s[o],r[o],n);this.cl_Jl=t+8},setInt64:function(e,t,i){this.cl_E_(a,e,t,i)},setUint64:function(e,t,i){this.cl_E_(o,e,t,i)},cl_S_:function(e,t,i){this.cl_o_(e,[255&t,t>>>8&255,t>>>16&255,t>>>24],i)},cl_T_:function(e,t,i){this.cl_o_(e,[255&t,t>>>8&255],i)},cl_C_:function(e,t){this.cl_o_(e,[255&t])},setUnsigned:function(e,t,i){var r=this.cl_A_(i,e),n=r.wideValue,s=r.bytes;n&=~(~(-1<<i)<<-this.cl_Zl),n|=(32>i?t&~(-1<<i):t)<<-this.cl_Zl;for(var o=s.length-1;o>=0;o--)s[o]=255&n,n>>>=8;this.cl_o_(r.start,s,!0)}};for(var f in l)!function(e){_["get"+e]=function(t,i){return this.cl_s_(e,!0,t,i)},_["set"+e]=function(t,i,r){this.cl_s_(e,!1,t,r,i)}}(f);_.cl_b_=_.cl_S_,_.cl_I_=_.cl_T_,_.cl_P_=_.cl_C_,_.setSigned=_.setUnsigned;for(var p in _)"set"===p.slice(0,3)&&!function(e){_["write"+e]=function(){Array.prototype.unshift.call(arguments,void 0),this["set"+e].apply(this,arguments)}}(p.slice(3));return r})},117:function(e,t){function i(){var e,t,i,r,n=function(n){e=n,t=0,i=0,r=n.length},s=function(e){t+=e/8,i+=e%8,i>7&&(t++,i-=8),h()},o=function(){return 1==a(1)},a=function(r){if(0==r)return 0;for(var n=0,s=Math.floor(r/8),o=0;o<s;o++){var a;a=0!=i?(255&e[t])<<i|(255&e[t+1])>>>8-i:e[t],r-=8,n|=(255&a)<<r,t++}if(r>0){var c=i+r,u=255>>8-r;c>8?(n|=((255&e[t])<<c-8|(255&e[t+1])>>16-c)&u,t++):(n|=(255&e[t])>>8-c&u,8==c&&t++),i=c%8}return h(),n},c=function(){return d()},u=function(){var e=d();return(e%2==0?-1:1)*((e+1)/2)},d=function(){for(var e=0;!o();)e++;return(1<<e)-1+(e>0?a(e):0)},h=function(){};return{init:n,readBit:o,readBits:a,skipBits:s,readUnsignedExpGolombCodedInt:c,readSignedExpGolombCodedInt:u}}e.exports=i},118:function(e,t,i){function r(e,t){this.initDataType="cenc",this.initData=e,this.cl_R=t}function n(e,t){var i,n,s,o,c,u,d=a.getTag(t,"kid"),h=a.getTag(t,"keylen"),l=parseInt(h,10).toString(16),_=0,f=new Uint8Array([112,115,115,104,0,0,0,0]);if("com.microsoft.playready"===e){o=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);var p="http://example.com/RightsManager.asmx",g="http://example.com",A=a.stringToArray('<WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"><DATA><PROTECTINFO><KEYLEN>'+h+"</KEYLEN><ALGID>AESCTR</ALGID></PROTECTINFO><KID>"+d+"</KID><LA_URL>"+p+"</LA_URL><LUI_URL>"+g+"</LUI_URL></DATA></WRMHEADER>");n=a.fillZeros(A)}else if("com.widevine.alpha"===e){o=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]);var m="12";d=a.toMsGuid(a.byteArrayToHexString(a.base64DecToArr(d))),n=a.hexStringToByteArray(m+l+d.replace(/-/g,""))}i=n.length,s=4+f.length+o.length+4+i,c=new ArrayBuffer(s);var y=new Uint8Array(c);return u=new DataView(c),u.setUint32(_,s),_+=4,y.set(f,_),_+=f.length,y.set(o,_),_+=o.length,u.setUint32(_,i),_+=4,y.set(n,_),new r(y,e)}function s(e,t){this.keySystem=e,this.licenseServerUri="",this.distinctiveIdentifierRequired=!1,this.persistentStateRequired=!1,this.persistentStateRequired=!1,this.audioRobustness="",this.videoRobustness="",this.serverCertificate=null,this.initData=[],this.initData.push(n(e,t))}function o(e){var t,i,r,n=[];for(e=e||[],i=0,r=e.length;i<r;i++)if(t=e[i],t&&t.ProtectionHeader&&t.ProtectionHeader.SystemID){var o=t.ProtectionHeader.SystemID.toLowerCase();o=o.replace(/[{,}]/g,""),"com.microsoft.playready"===c[o]&&(n.push(new s(c["edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"],t.ProtectionHeader)),n.push(new s(c["9a04f079-9840-4286-ab92-e65be0885f95"],t.ProtectionHeader)))}return n}var a=i(20),c={"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};e.exports=o},119:function(e,t,i){function r(e,t){var i;if(i=e.getPresentationStartTime(),t){var r;if(t.cl_L_?r=t.cl_L_[0]:t.cl_k_&&(r=t.cl_k_[0]),r){var n=2,s=r.cl_Ol;s=Math.max(0,s-n);var o=r.cl_Rl[s];i-=o.cl_kl/o._timeScale}}return i}function n(e,t){var i=new c(e,t);return i}function s(e,t){var i,r,n,s,o,a=[];for(s=new u,i=t.Protection,r=0,n=t.StreamIndex.length;r<n;r++)switch(o=t.StreamIndex[r],Array.isArray(o.c)||(o.c=[o.c]),o.Type){case"video":s.cl_R_(e,o,i);break;case"audio":s.cl_w_(e,o,i);break;case"text":s.cl_N_(e,o,i)}return s.cl_D_(),a.push(s),a}function o(e){var t;return t=e._lookAheadFragmentCount*e.maxSegmentDuration_}function a(e,t){this.cl_wl=t,this.cl_Pi=function(t){this.offlineSessionIds=[],this.presentationTimeline=n(t,e),this.periods=s(t,e);var i=r(this.presentationTimeline,this.periods[0]);this.presentationTimeline.setPresentationStartTime(i),this.minBufferTime=o(this.presentationTimeline)},this.cl_Vl=function(e,t){var i,r,n=s(e,t);for(i=0,r=this.periods.length;i<r;i++)this.periods[i].cl_Vl(n[i])}}var c=i(121),u=i(120);e.exports=a},120:function(e,t,i){function r(e){e=e||[];var t=e[0]||{};return h.getKeyId(t.ProtectionHeader)}function n(e){var t=e.QualityLevel;return t instanceof Array==!1&&(t=[t]),t[0].TimeScale=e.TimeScale,t}function s(){this.cl_ad=-1,this.cl_L_=[],this.cl_k_=[],this.textStreams=[],this.variants=[],this.startTime=0,this.cl_O_=function(){return this.cl_ad++,this.cl_ad},this.cl_w_=function(e,t,i){var s,o,c,d,h,_;for(h=r(i),s=u(i),d=n(t),o=0,c=d.length;o<c;o++)_=new a(e,this.cl_O_(),d[o],t,h,s),_._isSupported&&this.cl_k_.push(_);l(this.cl_k_,["channels","bitsPerSample","samplingRate","CodecPrivateData"])},this.cl_N_=function(e,t,i){var s,o,a,d,h,l;for(h=r(i),s=u(i),d=n(t),o=0,a=d.length;o<a;o++)l=new c(e,this.cl_O_(),d[o],t,h,s),this.textStreams.push(l)},this.cl_R_=function(e,t,i){var s,a,c,d,h,_;for(h=r(i),s=u(i),d=n(t),a=0,c=d.length;a<c;a++)_=new o(e,this.cl_O_(),d[a],t,h,s),_._isSupported&&this.cl_L_.push(_);l(this.cl_L_,["width","height","bandwidth","CodecPrivateData"])},this.cl_x_=function(e,t){var i,r,n;e&&("video"===e.cl_bl?n=e:i=e),t&&("video"===t.cl_bl?n=t:i=t),r=new d(this.cl_O_(),n,i),this.variants.push(r)},this.cl_D_=function(){var e,t;this.cl_L_.length?(e=this.cl_L_,t=this.cl_k_):(e=this.cl_k_,t=[]);for(var i=0,r=e.length;i<r;i++)if(t.length)for(var n=0,s=t.length;n<s;n++)this.cl_x_(e[i],t[n]);else this.cl_x_(e[i])},this.cl_Vl=function(e){var t,i;for(t=0,i=this.variants.length;t<i;t++)this.variants[t].cl_Vl(e.variants[t]);for(t=0,i=this.textStreams.length;t<i;t++)this.textStreams[t].cl_Vl(e.textStreams[t])}}var o=i(126),a=i(123),c=i(125),u=i(118),d=i(128),h=i(20),l=i(56);e.exports=s},121:function(e,t,i){function r(e,t){var i={_timeScale:{name:"TimeScale",converter:s.timeScale},setStatic:{name:"IsLive",converter:s.isLive},setDuration:{name:"Duration",converter:s.duration},_lookAheadFragmentCount:{name:"LookAheadFragmentCount",converter:s.int},setSegmentAvailabilityDuration:{name:"DVRWindowLength",converter:s.segmentAvailabilityDuration},setClockOffset:{name:"",converter:s.clockOffset}},r=0,o=0,c=!s.isLive(t["IsLive"]),u=e.cl_Kd.cl_Q.suggestedPresentationDelay;c&&(r=(new Date).getTime()/1e3,"number"==typeof u&&(o+=u)),e.cl_Ul.media.PresentationTimeline.call(this,r,o),n.assignMapValues(this,i,t),this.cl_B_=function(e){for(var t,i,r,n,s,o=0,c=e.length;o<c;o++){for(var u=0,d=e[o].variants.length;u<d&&(n=a.getSafeValue(e[o].variants[u],"video"),t=a.getSafeValue(e[o].variants[u],"audio"),n&&(r=n.cl_Rl,s=r[n.cl_Ol].cl_Ll/r[n.cl_Ol]._timeScale),t&&(r=t.cl_Rl,i=r[t.cl_Ol].cl_Ll/r[t.cl_Ol]._timeScale),!s||!i);u++);if(s&&i)break}var h=Math.min(s||i,i||s);this.setDuration(h)}}var n=i(30),s=i(21),o=i(1),a=i(3);r.prototype=Object.create(o.shaka.media.PresentationTimeline.prototype),r.prototype.constructor=r,e.exports=r},122:function(e,t,i){function r(){this.cl_Wl=!1,this.cl_Ul=s.shaka,this.cl_F_=30,this.cl_M_=2e3,this.cl_U_=2e3,this.cl_V_=this.cl_U_,this.cl_Y_=1.5,this.cl_j_=function(){return 5e3},this.cl_G_=function(){var e="undefined"==typeof this.cl_H_||!this.error&&Date.now()-this.cl_H_>this.cl_M_||this.error&&Date.now()-this.cl_H_>this.cl_V_||!1;return e},this.cl_W_=function(){return this.updating!==!0&&this.cl_G_()},this.cl_K_=function(e){var t=e.code;if(t===this.cl_Ul.util.Error.Code.BAD_HTTP_STATUS||t===this.cl_Ul.util.Error.Code.HTTP_ERROR){var i=e.data[1];404===i&&(this.error=!0,this.cl_Kd.cl_Ft.trigger(n.EVENTS.SMOOTH_PARSER_FIX_LIVE))}},this.cl_Vl=function(){this.cl_W_()&&(this.updating=!0,this.cl_H_=Date.now(),this.requestManifest_())},this.cl_z_=function(){this.cl_Wl=!0,this.cl_q_&&(clearInterval(this.cl_q_),this.cl_q_=null)},this.cl_Q_=function(){this.cl_Wl=!1,!this.cl_q_&&this.cl_Pl&&(this.cl_q_=setInterval(this.cl_Vl.bind(this),this.cl_j_()))},this.configure=function(e){this.config_=e},this.parseManifest_=function(e,t){return new Promise(function(i,r){try{var s=a.parseManifest(e);this.cl_Pl?this.cl_Pl.cl_Vl(this,s):(this.cl_Pl=new o(s,t),this.cl_Pl.cl_Pi(this),this.cl_Pl.presentationTimeline.isLive()||this.cl_Pl.presentationTimeline.cl_B_(this.cl_Pl.periods));for(var c=0,u=this.cl_Pl.periods.length;c<u;c++)for(var d=0,h=this.cl_Pl.periods[c].variants.length;d<h;d++)this.cl_Pl.periods[c].variants[d].video&&this.cl_Pl.presentationTimeline.notifySegments(Object.values(this.cl_Pl.periods[c].variants[d].video.cl_Rl),!0),this.cl_Pl.periods[c].variants[d].audio&&this.cl_Pl.presentationTimeline.notifySegments(Object.values(this.cl_Pl.periods[c].variants[d].audio.cl_Rl),!0);this.updating=!1,this.error&&(this.error=null,this.cl_V_=this.cl_U_,this.cl_Kd.cl_Ft.trigger(n.EVENTS.SMOOTH_PARSER_FIX_LIVE)),i(this.cl_Pl)}catch(e){this.updating=!1,r(e)}}.bind(this))},this.requestManifest_=function(){var e=s.shaka.net.NetworkingEngine.RequestType.MANIFEST,t={uris:this.manifestUris_,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:this.config_.retryParameters};return new Promise(function(i,r){this.networkingEngine_.request(e,t).then(function(e){return this.networkingEngine_?void i(this.parseManifest_(e.data,e.uri)):void r("networkingEngine is missing")}.bind(this),function(e){e=e||{},this.updating=!1;var t=e.code;t!==this.cl_Ul.util.Error.Code.BAD_HTTP_STATUS&&t!==this.cl_Ul.util.Error.Code.HTTP_ERROR||(this.error=!0,this.cl_V_=this.cl_V_*this.cl_Y_,this.cl_Kd.cl_Ft.trigger(n.EVENTS.SMOOTH_PARSER_FIX_LIVE)),this.cl_Pl&&(e.canBeRecovered=!0),r(e)}.bind(this))}.bind(this))},this.cl_Nu=function(e){this.cl_Kd=e,this.cl_Kd&&this.cl_Kd.cl_Q&&this.cl_Kd.cl_Q.subtitles&&this.cl_Kd.cl_Q.subtitles.ttmlFrameRate&&(this.cl_F_=this.cl_Kd.cl_Q.subtitles.ttmlFrameRate)},this.start=function(e,t){return this.cl_Kd.cl_Ft.off(n.EVENTS.START_PLAY,null,this),this.cl_Kd.cl_Ft.off(n.EVENTS.STOP_PLAY,null,this),this.cl_Kd.cl_Ft.off(n.EVENTS.SHAKA_ERROR,null,this),this.manifestUris_=[e],this.networkingEngine_=t.networkingEngine,this.filterPeriod_=t.filterPeriod,this.onError_=t.onError,this.onEvent_=t.onEvent,this.requestManifest_().then(function(){if(this.cl_Pl)return this.cl_Pl.presentationTimeline.isLive()&&(this.cl_Kd.cl_Ft.on(n.EVENTS.START_PLAY,this.cl_Q_,this),this.cl_Kd.cl_Ft.on(n.EVENTS.STOP_PLAY,this.cl_z_,this),this.cl_Kd.cl_Ft.on(n.EVENTS.SHAKA_ERROR,this.cl_K_,this)),this.cl_Pl}.bind(this))},this.stop=function(){this.cl_z_(),this.cl_Kd&&(this.cl_Kd.cl_Ft.off(n.EVENTS.START_PLAY,null,this),this.cl_Kd.cl_Ft.off(n.EVENTS.STOP_PLAY,null,this),this.cl_Kd.cl_Ft.off(n.EVENTS.SHAKA_ERROR,null,this))}}function n(e){var t;this.instance=function(){return t=new r,t.cl_Nu(e),t},this.cl_X_=function(){t&&t.stop()}}var s=i(1),o=i(119),a=i(30);n.EVENTS={START_PLAY:"START_PLAY",STOP_PLAY:"STOP_PLAY",SMOOTH_PARSER_FIX_LIVE:"SMOOTH_PARSER_FIX_LIVE",SHAKA_ERROR:"SHAKA_ERROR"},e.exports=n},123:function(e,t,i){function r(e,t,i,r,o,a){this.cl_bl="audio",i["_KeyId"]=o;var c={channelsCount:{name:"Channels",converter:s.int},bitsPerSample:{name:"BitsPerSample",converter:s.bitsPerSample},packetSize:{name:"PacketSize",converter:s.int},samplingRate:{name:"SamplingRate",converter:s.int},mimeType:{name:"",converter:s.mimeTypeAudio},codecs:{name:"FourCC",converter:s.codecsAudio},CodecPrivateData:{name:"CodecPrivateData",converter:s.codecPrivateDataAudio},audioTag:{name:"AudioTag",converter:s.int},_isSupported:{name:"FourCC",converter:s.isSupportedAudio}};n.call(this,e,t,i,r,c,a),this.cl_Yl=function(e){return this.channelsCount===e.channelsCount&&(this.bitsPerSample===e.bitsPerSample&&(this.samplingRate===e.samplingRate&&this.CodecPrivateData===e.CodecPrivateData))}}var n=i(36),s=i(21);e.exports=r},124:function(e,t,i){function r(e,t,i,r,c){var u,d,h,l,_,f,p,g=c._timeScale||e.cl_Pl.presentationTimeline._timeScale,A=o.int(i.d);_=0,f=void 0,"undefined"!=typeof i.t?(d=o.int(i.t||0),r?(p=d-r.cl_jl,u=p<0?d:r.cl_Ll+p):u=e.cl_Pl.presentationTimeline.isLive()?d:d):r?(d=r.cl_jl,u=r.cl_Ll):(d=0,u=0),h=u+A,l=d+A,this.cl_kl=u,this.cl_Gl=d,this.cl_Ll=h,this.cl_jl=l,this.cl_Hl=A,this._timeScale=g,this.cl_wl=c.cl_wl.replace("{start time}",d),this.CodecPrivateData=c.CodecPrivateData,this._keyId=c._keyId,this.cl_Fl=function(t,i){var r;r=new Uint8Array(i.data),r=n.parseSmoothStreamingFragment(r,this.cl_kl,c,this._timeScale,null,null,this.CodecPrivateData,this._keyId),"text"===c.cl_bl&&"application/ttml+xml"===c.mimeType&&(r=s(r,this.cl_kl/this._timeScale,e.cl_F_)),i.data=r},a.shaka.media.SegmentReference.call(this,t,u/g,h/g,function(){return[this.cl_wl]}.bind(this),_,f)}var n=i(20),s=i(127),o=i(21),a=i(1);r.prototype=Object.create(a.shaka.media.SegmentReference.prototype),r.prototype.constructor=r,e.exports=r},125:function(e,t,i){function r(e,t,i,r,o,a){this.cl_bl="text",i["Subtype"]=r.Subtype,i["_KeyId"]=o;var c={mimeType:{name:"FourCC",converter:s.mimeTypeText},kind:{name:"Subtype",converter:s.kind},codecs:{name:"",converter:s.codecsText},CodecPrivateData:{name:"CodecPrivateData",converter:s.codecPrivateDataText}};n.call(this,e,t,i,r,c,a)}var n=i(36),s=i(21);e.exports=r},126:function(e,t,i){function r(e,t,i,r,o,a){this.cl_bl="video",i["_KeyId"]=o;var c={channels:{name:"Channels",converter:s.int},bitsPerSample:{name:"BitsPerSample",converter:s.bitsPerSample},packetSize:{name:"PacketSize",converter:s.int},samplingRate:{name:"SamplingRate",converter:s.int},mimeType:{name:"",converter:s.mimeTypeVideo},CodecPrivateData:{name:"CodecPrivateData",converter:s.codecPrivateDataVideo},codecs:{name:"FourCC",converter:s.codecsVideo},width:{name:"MaxWidth",converter:s.int},height:{name:"MaxHeight",converter:s.int},_isSupported:{name:"FourCC",converter:s.isSupportedVideo}};n.call(this,e,t,i,r,c,a),this.cl_Yl=function(e){return this.width===e.width&&(this.height===e.height&&(this.bandwidth===e.bandwidth&&this.CodecPrivateData===e.CodecPrivateData))}}var n=i(36),s=i(21);e.exports=r},127:function(e,t,i){function r(e,t,i,r){if(this.frameRate=Number(e)||30,this.subFrameRate=Number(t)||1,this.tickRate=Number(r),0==this.tickRate&&(e?this.tickRate=this.frameRate*this.subFrameRate:this.tickRate=1),i){var n=/^(\d+) (\d+)$/g.exec(i);if(n){var s=n[1],o=n[2],a=s/o;this.frameRate*=a}}}function n(e,t){var i=p.exec(t),r=Number(i[1]),n=Number(i[2]),s=Number(i[3]),o=Number(i[4]),a=Number(i[5])||0;return o+=a/e.subFrameRate,s+=o/e.frameRate,s+60*n+3600*r}function s(e,t){var i=e.exec(t);if(null==i||""==i[0])return null;var r=Number(i[1])||0,n=Number(i[2])||0,s=Number(i[3])||0,o=Number(i[4])||0;return o/1e3+s+60*n+3600*r}function o(e,t){var i=m.exec(t),r=Number(i[1]);return r/e.frameRate}function a(e,t){var i=y.exec(t),r=Number(i[1]);return r/e.tickRate}function c(e,t){return p.test(e)?n(t,e):g.test(e)?s(g,e):A.test(e)?s(A,e):m.test(e)?o(t,e):y.test(e)?a(t,e):v.test(e)?s(v,e):void 0}function u(e,t,i){var r=c(e,i)+t,n=60,s=60*n,o=Math.floor(r/s),a=Math.floor((r-o*s)/n),u=r-o*s-a*n,d=Math.floor(u),h=u-d;return o<10&&(o="0"+o),a<10&&(a="0"+a),d<10&&(d="0"+d),0===h?h="000":(h=Math.round(1e3*h),h<10?h="00"+h:h<100&&(h="0"+h)),e=o+":"+a+":"+d+"."+h}function d(e,t,i){var r,n,s=["begin","end"];for(r=0,n=s.length;r<n;r++)e.setAttribute(s[r],u(f(e,s[r]),t,i))}function h(e,t,i){var n,s=l.fromBufferArrayToString(e),o=new DOMParser,a=null;try{a=o.parseFromString(s,"text/xml")}catch(e){}if(a&&"tt"===a.documentElement.tagName.toLowerCase()&&(n=a.documentElement),n){var c,u,h=i||n.getAttribute("ttp:frameRate"),f=new r(h,n.getAttribute("ttp:subFrameRate"),n.getAttribute("ttp:frameRateMultiplier"),n.getAttribute("ttp:tickRate")),p=n.getElementsByTagName("body")[0].getElementsByTagName("p");for(c=0,u=p.length;c<u;c++)d(p[c],t,f)}return s=(new XMLSerializer).serializeToString(a),_.stringToArray(s)}var l=i(30),_=i(20),f=i(13).cl_Ze,p=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,g=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,A=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,m=/^(\d*\.?\d*)f$/,y=/^(\d*\.?\d*)t$/,v=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/;e.exports=h},128:function(e,t){function i(e,t){var i=0;return e&&(i+=e.bandwidth),t&&(i+=t.bandwidth),i}function r(e,t){return e?e.cl_Bl:t?t.cl_Bl:[]}function n(e,t){return t?t.language:e?e.language:"und"}function s(e,t,s){this.allowedByApplication=!0,this.allowedByKeySystem=!0,this.id=e,this.bandwidth=i(t,s),this.language=n(t,s),this.primary=!0,this.drmInfos=r(t,s),this.video=t,this.audio=s,this.cl_Vl=function(e){this.video&&this.video.cl_Vl(e.video),this.audio&&this.audio.cl_Vl(e.audio)}}e.exports=s},129:function(e,t){function i(e){var t=s(e),i=n(e.childNodes);return i?Object.assign(t,i):e.textContent&&(t[e.tagName+"Text"]=e.textContent),t}function r(e){var t,i;for(t=0,i=e.length;t<i;t++)if(e[t].tagName)return!0;return!1}function n(e){var t;if(e&&e.length){var n,s,o,a,c={};for(s=0,o=e.length;s<o;s++)a=e[s].tagName,a&&(t=t||{},c[a]||(c[a]=[]),n=i(e[s]),c[a].push(n));var u;for(var d in c)c.hasOwnProperty(d)&&(u=c[d],1===u.length?r(e[0].parentNode.getElementsByTagName(d)[0].childNodes)?t[d]=u:t[d]=u[0]:t[d]=u)}return t}function s(e){var t,i,r,n,s,o;for(t={},i=e.attributes,r=0,n=i.length;r<n;r++)s=i[r].nodeName,o=i[r].nodeValue,t[s]=o;return t}e.exports=i},130:function(e,t,i){var r=i(1),n=i(48),s=i(7),o=i(9),a=i(122),c=i(5).cl_de,u=i(2),d=i(4),h=i(17),l=new d.Logger("clpp.player.tech.ss"),_=e.exports=r.videojs.extend(n,{constructor:function(e,t){var i=this;n.call(i,e,t),i.on("stalled",i.cl_mu),i.on("play",i.cl_J_.bind(this)),i.on(i.cl_ra,"error",i.cl_K_.bind(this)),["stop","pause"].forEach(function(e){i.on(e,i.cl_Z_.bind(i))}),this.cl_Ft.on(a.EVENTS.SMOOTH_PARSER_FIX_LIVE,i.cl_ef,i)},cl_Zo:function(){return Object.freeze([])},cl_K_:function(e){this.cl_Ft.trigger(a.EVENTS.SHAKA_ERROR,e.detail)},cl_ef:function(){this.el_.paused||this.setCurrentTime(Math.pow(2,53)-1)},cl_J_:function(){this.cl_Ft.trigger(a.EVENTS.START_PLAY)},cl_Z_:function(){this.cl_Ft.trigger(a.EVENTS.STOP_PLAY)},cl_mu:function(e){function t(){var e=Math.abs(a.currentTime-o);e<c&&i(!0),n&&r.w.clearTimeout(n),r.videojs.removeClass(a.parentNode,l)}function i(e){s&&r.w.clearTimeout(s),a.buffered.length>1&&(e||r.videojs.addClass(a.parentNode,l),a.currentTime=a.currentTime+(1===a.buffered.length?u:d),o=a.currentTime,s=r.w.setTimeout(t,h))}var n,s,o,a=e.currentTarget,c=.1,u=.001,d=.1,h=1e3,l="stalled-fixing";a.seeking||a.paused||0===a.playbackRate||r.videojs.browser.IS_CHROME&&i()},cl__r:function(){return!0},src:function(e){if(e){var t=c(this.cl_ra,"trackschanged"),i=this.cl_Q.startTime,r=this.cl_Q.offlineSessionId;this.cl_da=this.cl_ra.load(e,i,this.cl_Da(),r).then(function(){return t}).then(this.cl_Oi.bind(this),this.error.bind(this))}},cl_Da:function(){return this.cl_tf=new a(this),this.cl_tf.instance},cl_Ra:function(e){e=e||[];for(var t=0,i=e.length;t<i;t++){var r=e[t];if(r.variants)for(var n=0,s=r.variants.length;n<s;n++){var o=r.variants[n];o.audio&&o.audio.cl_Ml&&o.audio.cl_Ml(),o.video&&o.video.cl_Ml&&o.video.cl_Ml()}}},dispose:function(){r.w.removeEventListener("resize",this.cl_pa),this.cl_Ft&&this.cl_Ft.off(a.EVENTS.SMOOTH_PARSER_FIX_LIVE,null,this),this.cl_tf&&this.cl_tf.cl_X_(),n.prototype.dispose.call(this)}});_.isSupported=function(){if(s.cl_Oe().os.name===u.OS_VERSIONS.ios||s.cl_Oe().os.name===u.OS_VERSIONS.ipados)return!1;var e=s.cl_me()&&s.cl_ve();return l.debug("Is Tech supported: ",e),e},_.canPlaySource=function(e){var t=e.type&&e.type.toLowerCase(),i=h.canPlaySource(e)&&t===u.statics.types.SMOOTH_STREAMING;if(i&&o.cl_De(e.drmProtected)){i=!s.cl_ye()&&r.shaka.Player.isBrowserSupported();var n=r.videojs.browser;n.IS_ANDROID&&n.IS_FIREFOX&&(i=!1)}return l.debug("Can play source:",i),i?"maybe":""}}})})}})});